<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Simulates some data suitable for use in sparta
The user defines the parameters for the data generation
At present it works with just one species and generates the list length probabalistically"><title>Simulate for Occupancy detection models — simOccData • sparta</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulate for Occupancy detection models — simOccData"><meta property="og:description" content="Simulates some data suitable for use in sparta
The user defines the parameters for the data generation
At present it works with just one species and generates the list length probabalistically"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sparta</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.19</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/vignette.html">sparta - Species Presence/Absence R Trends Analyses</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/BiologicalRecordsCentre/sparta/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulate for Occupancy detection models</h1>
      <small class="dont-index">Source: <a href="https://github.com/BiologicalRecordsCentre/sparta/blob/HEAD/R/simOccData.R" class="external-link"><code>R/simOccData.R</code></a></small>
      <div class="d-none name"><code>simOccData.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Simulates some data suitable for use in sparta
The user defines the parameters for the data generation
At present it works with just one species and generates the list length probabalistically</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">simOccData</span><span class="op">(</span></span>
<span>  nsites <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  nvisits <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  nTP <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  psi <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>  trend <span class="op">=</span> <span class="op">-</span><span class="fl">0.01</span>,</span>
<span>  mu.lp <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>,</span>
<span>  tau.lp <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  beta1 <span class="op">=</span> <span class="fl">182</span>,</span>
<span>  beta2 <span class="op">=</span> <span class="fl">20</span>,</span>
<span>  beta3 <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  dtype2.p <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  dtype3.p <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  JD_range <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>nsites</dt>
<dd><p>numeric, the number of sites from which the simulated data is sampled.</p></dd>


<dt>nvisits</dt>
<dd><p>numeric, the number of visits from which the simulated data is sampled.</p></dd>


<dt>nTP</dt>
<dd><p>numeric, the number of time periods from which the simulated data is sampled.</p></dd>


<dt>psi</dt>
<dd><p>probability of a site being occupied in time period 1.</p></dd>


<dt>trend</dt>
<dd><p>the proportion of sites that change state each time period.
For decreasing trends the probability of persistence from one time period to the next is 1 + the trend value.
Probability of colonisation is 0.
For increasing trends the probability of an unoccupied site being colonised from one time period to the next is the trend value.
Probability of persistence is 1.</p></dd>


<dt>mu.lp</dt>
<dd><p>the mean value for the normal distribution for the year effect (alpha.p) on the observation model.</p></dd>


<dt>tau.lp</dt>
<dd><p>the precision value for the normal distribution for the year effect (alpha.p) on the observation model.</p></dd>


<dt>beta1</dt>
<dd><p>the mean value for the normal distribution for the effect of Julian day on observation model.This must be a valid Julian date</p></dd>


<dt>beta2</dt>
<dd><p>the standard deviation for the normal distribution for the effect of Julian day on observation model.</p></dd>


<dt>beta3</dt>
<dd><p>parameter on the logit scale governing the magnitude of the Julian date effect on the observation model.</p></dd>


<dt>dtype2.p</dt>
<dd><p>parameter (logit scale) for list length 2-3 on the observation model.</p></dd>


<dt>dtype3.p</dt>
<dd><p>parameter (logit scale) for list length 4 on the observation model.</p></dd>


<dt>JD_range</dt>
<dd><p>range of Julian dates upon which visits can take place. If this is null Julian date ranges between 1 and 365.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>A list, the first two elements of which ('spp_vis' &amp; 'occDetData') mimic the output of occDetFunc.
The third element ('Z') is the presence-absence state variable and the fourth ('p') is the true probability of detection.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># set the sparta options</span></span></span>
<span class="r-in"><span><span class="va">sparta_options</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'ranwalk'</span>, <span class="co"># prior on occupancy is set by last year's posterior</span></span></span>
<span class="r-in"><span>                   <span class="st">'jul_date'</span>, <span class="co"># use the Julian date as a covariate on the detection probability</span></span></span>
<span class="r-in"><span>                   <span class="st">'catlistlength'</span>, <span class="co"># categorises the visits into three sets of 'qualities'</span></span></span>
<span class="r-in"><span>                   <span class="st">'halfcauchy'</span><span class="op">)</span> <span class="co"># prior on the precisions</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># simulate some data</span></span></span>
<span class="r-in"><span><span class="va">mydata</span> <span class="op">&lt;-</span> <span class="fu">simOccData</span><span class="op">(</span>nvisit<span class="op">=</span><span class="fl">200</span>, nsite<span class="op">=</span><span class="fl">10</span>, nTP<span class="op">=</span><span class="fl">5</span>, psi<span class="op">=</span><span class="fl">0.5</span>, beta1<span class="op">=</span><span class="fl">182</span>, beta2<span class="op">=</span><span class="fl">20</span>, beta3<span class="op">=</span><span class="fl">100</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/with.html" class="external-link">with</a></span><span class="op">(</span><span class="va">mydata</span>, <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">occDetdata</span><span class="op">$</span><span class="va">Jul_date</span>, <span class="va">p</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># run the occupancy model model</span></span></span>
<span class="r-in"><span><span class="va">out</span> <span class="op">&lt;-</span> <span class="fu"><a href="occDetFunc.html">occDetFunc</a></span><span class="op">(</span><span class="st">'mysp'</span>, <span class="va">mydata</span><span class="op">$</span><span class="va">occDetdata</span>, <span class="va">mydata</span><span class="op">$</span><span class="va">spp_vis</span>, n_iter <span class="op">=</span> <span class="fl">1e4</span>, </span></span>
<span class="r-in"><span>                 modeltype <span class="op">=</span> <span class="va">sparta_options</span>, return_data<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">out</span><span class="op">$</span><span class="va">BUGSoutput</span></span></span>
<span class="r-in"><span><span class="fu"><a href="plot_DetectionPhenology.html">plot_DetectionPhenology</a></span><span class="op">(</span><span class="va">out</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">qplot</span><span class="op">(</span>data<span class="op">=</span><span class="fu">melt</span><span class="op">(</span><span class="va">out</span><span class="op">$</span><span class="va">BUGSoutput</span><span class="op">$</span><span class="va">sims.array</span><span class="op">)</span>, geom<span class="op">=</span><span class="st">'line'</span>,</span></span>
<span class="r-in"><span>     x<span class="op">=</span><span class="va">Var1</span>, col<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">Var2</span><span class="op">)</span>, y<span class="op">=</span><span class="va">value</span><span class="op">)</span> <span class="op">+</span></span></span>
<span class="r-in"><span> <span class="fu">facet_wrap</span><span class="op">(</span><span class="op">~</span><span class="va">Var3</span>, ncol<span class="op">=</span><span class="fl">4</span>, scales<span class="op">=</span><span class="st">'free'</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Nick Isaac, Tom August, Dylan Carbone, Colin Harrower, Jack Hatfield, Mark Hill, Francesca Mancini, Charlie Outhwaite, Gary Powney.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

