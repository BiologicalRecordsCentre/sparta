<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>sparta - Species Presence Absence R Trends Analyses</title>

<script>// Pandoc 2.9 adds attributes on both header and div. We remove the former (to
// be compatible with the behavior of Pandoc < 2.8).
document.addEventListener('DOMContentLoaded', function(e) {
  var hs = document.querySelectorAll("div.section[class*='level'] > :first-child");
  var i, h, a;
  for (i = 0; i < hs.length; i++) {
    h = hs[i];
    if (!/^h[1-6]$/i.test(h.tagName)) continue;  // it should be a header h1-h6
    a = h.attributes;
    while (a.length > 0) h.removeAttribute(a[0].name);
  }
});
</script>

<style type="text/css">
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
</style>



<style type="text/css">
code {
white-space: pre;
}
.sourceCode {
overflow: visible;
}
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    var j = 0;
    while (j < rules.length) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") {
        j++;
        continue;
      }
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') {
        j++;
        continue;
      }
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<style type="text/css">body {
background-color: #fff;
margin: 1em auto;
max-width: 700px;
overflow: visible;
padding-left: 2em;
padding-right: 2em;
font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif;
font-size: 14px;
line-height: 1.35;
}
#TOC {
clear: both;
margin: 0 0 10px 10px;
padding: 4px;
width: 400px;
border: 1px solid #CCCCCC;
border-radius: 5px;
background-color: #f6f6f6;
font-size: 13px;
line-height: 1.3;
}
#TOC .toctitle {
font-weight: bold;
font-size: 15px;
margin-left: 5px;
}
#TOC ul {
padding-left: 40px;
margin-left: -1.5em;
margin-top: 5px;
margin-bottom: 5px;
}
#TOC ul ul {
margin-left: -2em;
}
#TOC li {
line-height: 16px;
}
table {
margin: 1em auto;
border-width: 1px;
border-color: #DDDDDD;
border-style: outset;
border-collapse: collapse;
}
table th {
border-width: 2px;
padding: 5px;
border-style: inset;
}
table td {
border-width: 1px;
border-style: inset;
line-height: 18px;
padding: 5px 5px;
}
table, table th, table td {
border-left-style: none;
border-right-style: none;
}
table thead, table tr.even {
background-color: #f7f7f7;
}
p {
margin: 0.5em 0;
}
blockquote {
background-color: #f6f6f6;
padding: 0.25em 0.75em;
}
hr {
border-style: solid;
border: none;
border-top: 1px solid #777;
margin: 28px 0;
}
dl {
margin-left: 0;
}
dl dd {
margin-bottom: 13px;
margin-left: 13px;
}
dl dt {
font-weight: bold;
}
ul {
margin-top: 0;
}
ul li {
list-style: circle outside;
}
ul ul {
margin-bottom: 0;
}
pre, code {
background-color: #f7f7f7;
border-radius: 3px;
color: #333;
white-space: pre-wrap; 
}
pre {
border-radius: 3px;
margin: 5px 0px 10px 0px;
padding: 10px;
}
pre:not([class]) {
background-color: #f7f7f7;
}
code {
font-family: Consolas, Monaco, 'Courier New', monospace;
font-size: 85%;
}
p > code, li > code {
padding: 2px 0px;
}
div.figure {
text-align: center;
}
img {
background-color: #FFFFFF;
padding: 2px;
border: 1px solid #DDDDDD;
border-radius: 3px;
border: 1px solid #CCCCCC;
margin: 0 5px;
}
h1 {
margin-top: 0;
font-size: 35px;
line-height: 40px;
}
h2 {
border-bottom: 4px solid #f7f7f7;
padding-top: 10px;
padding-bottom: 2px;
font-size: 145%;
}
h3 {
border-bottom: 2px solid #f7f7f7;
padding-top: 10px;
font-size: 120%;
}
h4 {
border-bottom: 1px solid #f7f7f7;
margin-left: 8px;
font-size: 105%;
}
h5, h6 {
border-bottom: 1px solid #ccc;
font-size: 105%;
}
a {
color: #0033dd;
text-decoration: none;
}
a:hover {
color: #6666ff; }
a:visited {
color: #800080; }
a:visited:hover {
color: #BB00BB; }
a[href^="http:"] {
text-decoration: underline; }
a[href^="https:"] {
text-decoration: underline; }

code > span.kw { color: #555; font-weight: bold; } 
code > span.dt { color: #902000; } 
code > span.dv { color: #40a070; } 
code > span.bn { color: #d14; } 
code > span.fl { color: #d14; } 
code > span.ch { color: #d14; } 
code > span.st { color: #d14; } 
code > span.co { color: #888888; font-style: italic; } 
code > span.ot { color: #007020; } 
code > span.al { color: #ff0000; font-weight: bold; } 
code > span.fu { color: #900; font-weight: bold; } 
code > span.er { color: #a61717; background-color: #e3d2d2; } 
</style>




</head>

<body>




<h1 class="title toc-ignore">sparta - Species Presence Absence R Trends
Analyses</h1>



<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Sparta provides a range of tools for analysing trends in species
occurrence data and is based on the work presented in <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a>. The data that is used in these method is ‘what where
and when’. The ‘what’ is typically a species name. ‘Where’ is the
location of the observation, sometimes referred to as the site. This is
typically a 1km, 2km or 10km grid square but could also be a none
regular location such as field sites or counties. ‘When’ is the time
when an observation is made, and the requirements differ between
methods. Some methods require a date while others require you to
aggregate dates into time periods for comparison.</p>
<p>All of the methods described here require multi species data. This is
because they use information across all species to assess biases.</p>
<p>In this vignette we will run through the methods and show how they
can be used in reproducible examples.</p>
<div id="installation" class="section level2">
<h2>Installation</h2>
<p>Installing the package is easy and can be done from CRAN.
Alternatively the development version can be installed from GitHub.</p>
<p>NOTE: JAGS must be installed before the R package installation will
work. JAGS can be found here - <a href="http://sourceforge.net/projects/mcmc-jags/files/JAGS/" class="uri">http://sourceforge.net/projects/mcmc-jags/files/JAGS/</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="co"># Install the package from CRAN</span></span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a><span class="co"># THIS WILL WORK ONLY AFTER THE PACKAGE IS PUBLISHED</span></span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&#39;sparta&#39;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="co"># Or install the development version from GitHub</span></span>
<span id="cb1-6"><a href="#cb1-6" tabindex="-1"></a><span class="fu">library</span>(devtools)</span>
<span id="cb1-7"><a href="#cb1-7" tabindex="-1"></a><span class="fu">install_github</span>(<span class="st">&#39;biologicalrecordscentre/sparta&#39;</span>)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="co"># Once installed, load the package</span></span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="fu">library</span>(sparta)</span></code></pre></div>
<pre><code>## Loading required package: lme4
## Loading required package: Matrix
## Loading required package: Rcpp</code></pre>
<p>The functions in sparta cover a range of tasks. Primarily they are
focused on analysing trends in species occurrence data while accounting
for biases (see Isaac et al, 2014). In this vignette we step through
these functions and others so that you can understand how the package
works. If you have any questions you can find the package maintainers
email address using <code>maintainer(&#39;sparta&#39;)</code>, and if you have
issues or bugs you can <a href="https://github.com/biologicalrecordscentre/sparta/issues">report
them here</a></p>
<div style="page-break-after: always;"></div>
</div>
</div>
<div id="modelling-methods" class="section level1">
<h1>Modelling methods</h1>
<div id="create-some-example-data" class="section level2">
<h2>Create some example data</h2>
<p>Clearly when you are using sparta you will want to use your own data,
however perhaps you are only at the planning stage of your project? This
code shows you how to create some example data so that you can try out
sparta’s functionality.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># Create data</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="dv">8000</span> <span class="co"># size of dataset</span></span>
<span id="cb4-3"><a href="#cb4-3" tabindex="-1"></a>nyr <span class="ot">&lt;-</span> <span class="dv">50</span> <span class="co"># number of years in data</span></span>
<span id="cb4-4"><a href="#cb4-4" tabindex="-1"></a>nSamples <span class="ot">&lt;-</span> <span class="dv">200</span> <span class="co"># set number of dates</span></span>
<span id="cb4-5"><a href="#cb4-5" tabindex="-1"></a>nSites <span class="ot">&lt;-</span> <span class="dv">100</span> <span class="co"># set number of sites</span></span>
<span id="cb4-6"><a href="#cb4-6" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">125</span>) <span class="co"># set a random seed</span></span>
<span id="cb4-7"><a href="#cb4-7" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" tabindex="-1"></a><span class="co"># Create somes dates</span></span>
<span id="cb4-9"><a href="#cb4-9" tabindex="-1"></a>first <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">strptime</span>(<span class="st">&quot;1950/01/01&quot;</span>, <span class="st">&quot;%Y/%m/%d&quot;</span>)) </span>
<span id="cb4-10"><a href="#cb4-10" tabindex="-1"></a>last <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">strptime</span>(<span class="fu">paste</span>(<span class="dv">1950</span><span class="sc">+</span>(nyr<span class="dv">-1</span>),<span class="st">&quot;/12/31&quot;</span>, <span class="at">sep=</span><span class="st">&#39;&#39;</span>), <span class="st">&quot;%Y/%m/%d&quot;</span>)) </span>
<span id="cb4-11"><a href="#cb4-11" tabindex="-1"></a>dt <span class="ot">&lt;-</span> last<span class="sc">-</span>first </span>
<span id="cb4-12"><a href="#cb4-12" tabindex="-1"></a>rDates <span class="ot">&lt;-</span> first <span class="sc">+</span> (<span class="fu">runif</span>(nSamples)<span class="sc">*</span>dt)</span>
<span id="cb4-13"><a href="#cb4-13" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" tabindex="-1"></a><span class="co"># taxa are set semi-randomly</span></span>
<span id="cb4-15"><a href="#cb4-15" tabindex="-1"></a>taxa_probabilities <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fl">0.1</span>, <span class="at">to =</span> <span class="fl">0.7</span>, <span class="at">length.out =</span> <span class="dv">26</span>)</span>
<span id="cb4-16"><a href="#cb4-16" tabindex="-1"></a>taxa <span class="ot">&lt;-</span> <span class="fu">sample</span>(letters, <span class="at">size =</span> n, <span class="cn">TRUE</span>, <span class="at">prob =</span> taxa_probabilities)</span>
<span id="cb4-17"><a href="#cb4-17" tabindex="-1"></a></span>
<span id="cb4-18"><a href="#cb4-18" tabindex="-1"></a><span class="co"># sites are visited semi-randomly</span></span>
<span id="cb4-19"><a href="#cb4-19" tabindex="-1"></a>site_probabilities <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fl">0.1</span>, <span class="at">to =</span> <span class="fl">0.7</span>, <span class="at">length.out =</span> nSites)</span>
<span id="cb4-20"><a href="#cb4-20" tabindex="-1"></a>site <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="fu">paste</span>(<span class="st">&#39;A&#39;</span>, <span class="dv">1</span><span class="sc">:</span>nSites, <span class="at">sep=</span><span class="st">&#39;&#39;</span>), <span class="at">size =</span> n, <span class="cn">TRUE</span>, <span class="at">prob =</span> site_probabilities)</span>
<span id="cb4-21"><a href="#cb4-21" tabindex="-1"></a></span>
<span id="cb4-22"><a href="#cb4-22" tabindex="-1"></a><span class="co"># the date of visit is selected semi-randomly from those created earlier</span></span>
<span id="cb4-23"><a href="#cb4-23" tabindex="-1"></a>time_probabilities <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="fl">0.1</span>, <span class="at">to =</span> <span class="fl">0.7</span>, <span class="at">length.out =</span> nSamples)</span>
<span id="cb4-24"><a href="#cb4-24" tabindex="-1"></a>time_period <span class="ot">&lt;-</span> <span class="fu">sample</span>(rDates, <span class="at">size =</span> n, <span class="cn">TRUE</span>, <span class="at">prob =</span> time_probabilities)</span>
<span id="cb4-25"><a href="#cb4-25" tabindex="-1"></a></span>
<span id="cb4-26"><a href="#cb4-26" tabindex="-1"></a>myData <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(taxa, site, time_period)</span>
<span id="cb4-27"><a href="#cb4-27" tabindex="-1"></a></span>
<span id="cb4-28"><a href="#cb4-28" tabindex="-1"></a><span class="co"># Let&#39;s have a look at the my example data</span></span>
<span id="cb4-29"><a href="#cb4-29" tabindex="-1"></a><span class="fu">head</span>(myData)</span></code></pre></div>
<pre><code>##   taxa site time_period
## 1    r  A51  1970-01-14
## 2    v  A87  1980-09-29
## 3    e  A56  1996-04-14
## 4    z  A28  1959-01-16
## 5    r  A77  1970-09-21
## 6    x  A48  1990-02-25</code></pre>
<p>In general this is the format of data you will need for all of the
functions in sparta. The taxa and site columns should be characters and
the time_period column should ideally be a date but can in some cases be
a numeric.</p>
<p>There are many sources of wildlife observation data including GBIF
(Global Biodiversity Information Facility) and the NBN gateway (National
Biodiversity Network). Both of these repositories have R packages that
will allow you to download this type of data straight into your R
session (see <a href="http://cran.r-project.org/web/packages/rgbif/index.html">rgbif</a>
and <a href="http://cran.r-project.org/web/packages/rnbn/index.html">rnbn</a>
for details)</p>
</div>
<div id="assessing-the-quality-of-data" class="section level2">
<h2>Assessing the quality of data</h2>
<p>It can be useful to have a look at your data before you do any
analyses. For example it is important to understand the biases in your
data. The function <code>dataDiagnostics</code> is designed to help with
this.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" tabindex="-1"></a><span class="co"># Run some data diagnostics on our data</span></span>
<span id="cb6-2"><a href="#cb6-2" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">dataDiagnostics</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb6-3"><a href="#cb6-3" tabindex="-1"></a>                           <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb6-4"><a href="#cb6-4" tabindex="-1"></a>                           <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb6-5"><a href="#cb6-5" tabindex="-1"></a>                           <span class="at">progress_bar =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa = taxa, site = site, time_period =
## time_period): 94 out of 8000 observations will be removed as duplicates</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre><code>## ## Linear model outputs ##
## 
## There is no detectable change in the number of records over time:
## 
##                 Estimate   Std. Error    t value  Pr(&gt;|t|)
## (Intercept) -894.8997359 1710.0719088 -0.5233112 0.6031654
## time_period    0.5342617    0.8660553  0.6168910 0.5402219
## 
## 
## There is no detectable change in list lengths over time:
## 
##                 Estimate   Std. Error    z value     Pr(&gt;|z|)
## (Intercept) 2.390402e-01 1.208657e-02 19.7773477 4.665954e-87
## time_period 1.098369e-06 2.135956e-06  0.5142282 6.070924e-01</code></pre>
<p>The plot produced shows the number of records for each year in the
top plot and the average list length in a box plot at the bottom. List
length is the number of taxa observed on a visit to a site, where a
visit is taken to be a unique combination of ‘where’ and ‘when’. A trend
in the number of observations across time is not uncommon and a formal
test for such a trend is performed in the form of a linear model. Trends
in the number of records over time are handled by all of the methods
presented in sparta in a variety of different ways. Trends in list
length are tested in the same manner, and both are returned to the
console. A in list length can cause some methods such as the reporting
rate methods to fail (see ‘LessEffortPerVisit’ scenario in <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a>) Unsurprisingly, since this is a random dataset, we
have no trend in either the number of records or list length over time.
This function also works if we have a numeric for time period such as
the year</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="co"># Run some data diagnostics on our data, now time_period</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="co"># is set to be a year</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">dataDiagnostics</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a>                           <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a>                           <span class="at">time_period =</span> <span class="fu">as.numeric</span>(<span class="fu">format</span>(myData<span class="sc">$</span>time_period, <span class="st">&#39;%Y&#39;</span>)),</span>
<span id="cb9-6"><a href="#cb9-6" tabindex="-1"></a>                           <span class="at">progress_bar =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa = taxa, site = site, time_period =
## time_period): 419 out of 8000 observations will be removed as duplicates</code></pre>
<p><img src="data:image/png;base64,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" /></p>
<pre><code>## ## Linear model outputs ##
## 
## There is no detectable change in the number of records over time:
## 
##                 Estimate   Std. Error    t value  Pr(&gt;|t|)
## (Intercept) -894.8997359 1710.0719088 -0.5233112 0.6031654
## time_period    0.5342617    0.8660553  0.6168910 0.5402219
## 
## 
## There is no detectable change in list lengths over time:
## 
##                  Estimate   Std. Error    z value  Pr(&gt;|z|)
## (Intercept) -0.6465523185 1.5554513917 -0.4156686 0.6776525
## time_period  0.0007201245 0.0007874907  0.9144546 0.3604780</code></pre>
<p>If we want to view these results in more detail we can interrogate
the object <code>results</code></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" tabindex="-1"></a><span class="co"># See what is in results..</span></span>
<span id="cb12-2"><a href="#cb12-2" tabindex="-1"></a><span class="fu">names</span>(results)</span></code></pre></div>
<pre><code>## [1] &quot;RecordsPerYear&quot;  &quot;VisitListLength&quot; &quot;modelRecs&quot;       &quot;modelList&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" tabindex="-1"></a><span class="co"># Let&#39;s have a look at the details</span></span>
<span id="cb14-2"><a href="#cb14-2" tabindex="-1"></a><span class="fu">head</span>(results<span class="sc">$</span>RecordsPerYear)</span></code></pre></div>
<pre><code>## RecordsPerYear
## 1950 1951 1952 1953 1954 1955 
##  224   69  147  181  119  218</code></pre>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">head</span>(results<span class="sc">$</span>VisitListLength)</span></code></pre></div>
<pre><code>##   time_period site listLength
## 1        1950 A100          3
## 2        1950  A11          1
## 3        1950  A12          2
## 4        1950  A13          1
## 5        1950  A15          1
## 6        1950  A16          2</code></pre>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" tabindex="-1"></a><span class="fu">summary</span>(results<span class="sc">$</span>modelRecs)</span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = count ~ time_period, data = mData)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -136.06   -59.03   -22.40    50.51   265.99  
## 
## Coefficients:
##              Estimate Std. Error t value Pr(&gt;|t|)
## (Intercept) -894.8997  1710.0719  -0.523    0.603
## time_period    0.5343     0.8661   0.617    0.540
## 
## (Dispersion parameter for gaussian family taken to be 7809.915)
## 
##     Null deviance: 377848  on 49  degrees of freedom
## Residual deviance: 374876  on 48  degrees of freedom
## AIC: 594.01
## 
## Number of Fisher Scoring iterations: 2</code></pre>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" tabindex="-1"></a><span class="fu">summary</span>(results<span class="sc">$</span>modelList)</span></code></pre></div>
<pre><code>## 
## Call:
## glm(formula = listLength ~ time_period, family = &quot;poisson&quot;, data = space_time)
## 
## Deviance Residuals: 
##     Min       1Q   Median       3Q      Max  
## -0.9132  -0.8866  -0.1309   0.5260   3.8475  
## 
## Coefficients:
##               Estimate Std. Error z value Pr(&gt;|z|)
## (Intercept) -0.6465523  1.5554514  -0.416    0.678
## time_period  0.0007201  0.0007875   0.914    0.360
## 
## (Dispersion parameter for poisson family taken to be 1)
## 
##     Null deviance: 2737.1  on 3489  degrees of freedom
## Residual deviance: 2736.3  on 3488  degrees of freedom
## AIC: 11607
## 
## Number of Fisher Scoring iterations: 5</code></pre>
</div>
<div id="telfer" class="section level2">
<h2>Telfer</h2>
<p>Telfer’s change index is designed to assess the relative change in
range size of species between two time periods (<a href="http://www.sciencedirect.com/science/article/pii/S0006320702000502#">Telfer
et al, 2002</a>). This is a simple method that is robust but has low
power to detect trends where they exist. While this method is designed
to compare two time period sparta can take many time periods and will
complete all pairwise comparisons.</p>
<p>Our data is not quite in the correct format for Telfer since it is
used to compare time periods but our <code>time_period</code> column is
a date. We can fix this by using the <code>date2timeperiod</code>
function.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" tabindex="-1"></a><span class="do">## Create a new column for the time period</span></span>
<span id="cb22-2"><a href="#cb22-2" tabindex="-1"></a><span class="co"># First define my time periods</span></span>
<span id="cb22-3"><a href="#cb22-3" tabindex="-1"></a>time_periods <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1950</span>, <span class="dv">1960</span>, <span class="dv">1970</span>, <span class="dv">1980</span>, <span class="dv">1990</span>),</span>
<span id="cb22-4"><a href="#cb22-4" tabindex="-1"></a>                           <span class="at">end =</span> <span class="fu">c</span>(<span class="dv">1959</span>, <span class="dv">1969</span>, <span class="dv">1979</span>, <span class="dv">1989</span>, <span class="dv">1999</span>))</span>
<span id="cb22-5"><a href="#cb22-5" tabindex="-1"></a></span>
<span id="cb22-6"><a href="#cb22-6" tabindex="-1"></a>time_periods</span></code></pre></div>
<pre><code>##   start  end
## 1  1950 1959
## 2  1960 1969
## 3  1970 1979
## 4  1980 1989
## 5  1990 1999</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" tabindex="-1"></a><span class="co"># Now use these to assign my dates to time periods</span></span>
<span id="cb24-2"><a href="#cb24-2" tabindex="-1"></a>myData<span class="sc">$</span>tp <span class="ot">&lt;-</span> <span class="fu">date2timeperiod</span>(myData<span class="sc">$</span>time_period, time_periods)</span>
<span id="cb24-3"><a href="#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="#cb24-4" tabindex="-1"></a><span class="fu">head</span>(myData)</span></code></pre></div>
<pre><code>##   taxa site time_period tp
## 1    r  A51  1970-01-14  3
## 2    v  A87  1980-09-29  4
## 3    e  A56  1996-04-14  5
## 4    z  A28  1959-01-16  1
## 5    r  A77  1970-09-21  3
## 6    x  A48  1990-02-25  5</code></pre>
<p>As you can see our new column indicates which time period each date
falls into with 1 being the earliest time period, 2 being the second and
so on. This function will also work if instead of a single date for each
record you have a date range</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" tabindex="-1"></a><span class="do">## Create a dataset where we have date ranges</span></span>
<span id="cb26-2"><a href="#cb26-2" tabindex="-1"></a>Date_range <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">startdate =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb26-3"><a href="#cb26-3" tabindex="-1"></a>                         <span class="at">enddate =</span> (myData<span class="sc">$</span>time_period <span class="sc">+</span> <span class="dv">600</span>))</span>
<span id="cb26-4"><a href="#cb26-4" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" tabindex="-1"></a><span class="fu">head</span>(Date_range)</span></code></pre></div>
<pre><code>##    startdate    enddate
## 1 1970-01-14 1971-09-06
## 2 1980-09-29 1982-05-22
## 3 1996-04-14 1997-12-05
## 4 1959-01-16 1960-09-07
## 5 1970-09-21 1972-05-13
## 6 1990-02-25 1991-10-18</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" tabindex="-1"></a><span class="co"># Now assign my date ranges to time periods</span></span>
<span id="cb28-2"><a href="#cb28-2" tabindex="-1"></a>Date_range<span class="sc">$</span>time_period <span class="ot">&lt;-</span> <span class="fu">date2timeperiod</span>(Date_range, time_periods)</span>
<span id="cb28-3"><a href="#cb28-3" tabindex="-1"></a></span>
<span id="cb28-4"><a href="#cb28-4" tabindex="-1"></a><span class="fu">head</span>(Date_range)</span></code></pre></div>
<pre><code>##    startdate    enddate time_period
## 1 1970-01-14 1971-09-06           3
## 2 1980-09-29 1982-05-22           4
## 3 1996-04-14 1997-12-05           5
## 4 1959-01-16 1960-09-07          NA
## 5 1970-09-21 1972-05-13           3
## 6 1990-02-25 1991-10-18           5</code></pre>
<p>As you can see in this example when a date range spans the boundaries
of your time periods NA is returned.</p>
<p>Now we have our data in the right format we can use the
<code>telfer</code> function to analyse the data. The Telfer index for
each species is the standardized residual from a linear regression
across all species and is a measure of relative change only as the
average real trend across species is obscured (<a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a>; <a href="http://www.sciencedirect.com/science/article/pii/S0006320702000502#">Telfer
et al, 2002</a>).Telfer is used for comparing two time periods and if
you have more than this the <code>telfer</code> function will all
pair-wise comparisons.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" tabindex="-1"></a><span class="co"># Here is our data</span></span>
<span id="cb30-2"><a href="#cb30-2" tabindex="-1"></a><span class="fu">head</span>(myData)</span></code></pre></div>
<pre><code>##   taxa site time_period tp
## 1    r  A51  1970-01-14  3
## 2    v  A87  1980-09-29  4
## 3    e  A56  1996-04-14  5
## 4    z  A28  1959-01-16  1
## 5    r  A77  1970-09-21  3
## 6    x  A48  1990-02-25  5</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a>telfer_results <span class="ot">&lt;-</span> <span class="fu">telfer</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a>                         <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a>                         <span class="at">time_period =</span> myData<span class="sc">$</span>tp,</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a>                         <span class="at">minSite =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa = taxa, site = site, time_period =
## time_period, : 2541 out of 8000 observations will be removed as duplicates</code></pre>
<p>We get a warning message indicating that a large number of rows are
being removed as duplicates. This occurs since we are now aggregating
records into time periods and therefore creating a large number of
duplicates.</p>
<p>The results give the change index for each species (rows) in each of
the pairwise comparisons of time periods (columns).</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" tabindex="-1"></a><span class="fu">head</span>(telfer_results)</span></code></pre></div>
<pre><code>##   taxa  Telfer_1_2   Telfer_1_3 Telfer_1_4 Telfer_1_5 Telfer_2_3
## 1    a -0.67842545 -1.744577671 -1.8073843 -0.7000801 -1.8352888
## 2    b -0.90368128 -0.841219630 -0.8697828 -1.5449132 -0.5139840
## 3    c  0.96096754 -0.008737329  0.2181534  0.3726534 -0.7254485
## 4    d  0.79744179 -0.558165922  0.3848417  1.6642357 -1.1759409
## 5    e -0.01856808  0.490523483 -1.0901348 -1.6500473  0.3450083
## 6    f -0.80201507 -0.412461197 -1.0846426  0.3817399  0.1657078
##   Telfer_2_4 Telfer_2_5 Telfer_3_4 Telfer_3_5 Telfer_4_5
## 1 -2.1097232 -0.4557972 -1.1728237  0.8437536  1.4880569
## 2 -0.6234749 -0.8326960 -0.3171487 -1.1756988 -0.8995878
## 3 -0.3891040 -0.3595835  0.3549603 -0.2184517 -0.3834038
## 4 -0.1875890  0.5294236  1.2663488  1.3562488  0.6466352
## 5 -1.1254544 -1.7153826 -1.8881411 -2.1972910 -1.0810351
## 6 -0.5122655  0.8827473 -0.8383498  0.4662370  1.3111555</code></pre>
</div>
<div id="reporting-rate-models" class="section level2">
<h2>Reporting Rate Models</h2>
<p>The reporting rates models in sparta are all either GLMs or GLMMs
with year as a continuous covariate but are flexible, giving the user a
number of options for their analyses. These options include the addition
of covariates to account for biases in the data including a random site
effect and fixed effect of list length.</p>
<p>In <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a> it was shown that reporting rate models can be
susceptible to type 1 errors under certain scenarios and that with site
and list length covariates the models performed better when the data
were bias. These methods were found to out perform simple methods like
Telfer.</p>
<p>The common feature among these models is that the quantity under
consideration is the ‘probability of being recorded’. When binomial
models are used (as is the default), it’s the ‘probability for an
average visit’ for the Bernoulli version it is the probability of being
recorded per time period.</p>
<div id="data-selection" class="section level3">
<h3>Data selection</h3>
<p>Before undertaking modelling the data can be subset in an effort to
remove data that may introduce bias. Model sub-setting was found to
reduce power in <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a> but can partially deal with uneven sampling of site.
This process can also be used with other methods and is not solely
applicable to the reporting rate models.</p>
<p>The first function allows you to subset your data by list length.
This works out, for each combination of ‘where’ and ‘when’ (a visit),
the number of species observed (list length). Any records that to not
come from a list that meets your list length criteria are then
dropped.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" tabindex="-1"></a><span class="co"># Select only records which occur on lists of length 2 or more</span></span>
<span id="cb36-2"><a href="#cb36-2" tabindex="-1"></a>myDataL <span class="ot">&lt;-</span> <span class="fu">siteSelectionMinL</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb36-3"><a href="#cb36-3" tabindex="-1"></a>                             <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb36-4"><a href="#cb36-4" tabindex="-1"></a>                             <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb36-5"><a href="#cb36-5" tabindex="-1"></a>                             <span class="at">minL =</span> <span class="dv">2</span>) </span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa, site, time_period): 94 out of 8000
## observations will be removed as duplicates</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" tabindex="-1"></a><span class="fu">head</span>(myDataL)</span></code></pre></div>
<pre><code>##   taxa site time_period
## 1    u   A1  1952-11-16
## 2    n   A1  1952-11-16
## 3    x   A1  1960-06-06
## 4    s   A1  1960-06-06
## 5    x   A1  1999-08-03
## 6    d   A1  1999-08-03</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" tabindex="-1"></a><span class="co"># We now have a much smaller dataset after subsetting</span></span>
<span id="cb40-2"><a href="#cb40-2" tabindex="-1"></a><span class="fu">nrow</span>(myData)</span></code></pre></div>
<pre><code>## [1] 8000</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" tabindex="-1"></a><span class="fu">nrow</span>(myDataL)</span></code></pre></div>
<pre><code>## [1] 3082</code></pre>
<p>We are also able to subset by the number of times a site is sampled.
The function <code>siteSelectionMinTP</code> does this. When time_period
is a date, as in this case, minTP is minimum number of years a site must
be sampled in for it be included in the subset.</p>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" tabindex="-1"></a><span class="co"># Select only data from sites sampled in at least 10 years</span></span>
<span id="cb44-2"><a href="#cb44-2" tabindex="-1"></a>myDataTP <span class="ot">&lt;-</span> <span class="fu">siteSelectionMinTP</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb44-3"><a href="#cb44-3" tabindex="-1"></a>                               <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb44-4"><a href="#cb44-4" tabindex="-1"></a>                               <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb44-5"><a href="#cb44-5" tabindex="-1"></a>                               <span class="at">minTP =</span> <span class="dv">10</span>) </span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa, site, time_period): 94 out of 8000
## observations will be removed as duplicates</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1" tabindex="-1"></a><span class="fu">head</span>(myDataTP)</span></code></pre></div>
<pre><code>##   taxa site time_period
## 1    r  A51  1970-01-14
## 2    v  A87  1980-09-29
## 3    e  A56  1996-04-14
## 4    z  A28  1959-01-16
## 5    r  A77  1970-09-21
## 6    x  A48  1990-02-25</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" tabindex="-1"></a><span class="co"># Here we have only lost a small number rows, this is because</span></span>
<span id="cb48-2"><a href="#cb48-2" tabindex="-1"></a><span class="co"># many sites in our data are visited in a lot of years. Those</span></span>
<span id="cb48-3"><a href="#cb48-3" tabindex="-1"></a><span class="co"># rows that have been removed are duplicates</span></span>
<span id="cb48-4"><a href="#cb48-4" tabindex="-1"></a><span class="fu">nrow</span>(myData)</span></code></pre></div>
<pre><code>## [1] 8000</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" tabindex="-1"></a><span class="fu">nrow</span>(myDataTP)</span></code></pre></div>
<pre><code>## [1] 7906</code></pre>
<p>As you can see in the above example minTP specifies the number of
years a site must be sampled in order to be included. However, our
dataset is very well sampled so we might be interested in another
measure of time. For example, you might want only sites that have been
observed in at least 60 months. Let’s see how this could be done.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1" tabindex="-1"></a><span class="co"># We need to create a new column to represent unique months</span></span>
<span id="cb52-2"><a href="#cb52-2" tabindex="-1"></a><span class="co"># this could also be any unit of time you wanted (week, decade, etc.)</span></span>
<span id="cb52-3"><a href="#cb52-3" tabindex="-1"></a></span>
<span id="cb52-4"><a href="#cb52-4" tabindex="-1"></a><span class="co"># This line returns a unique character for each month</span></span>
<span id="cb52-5"><a href="#cb52-5" tabindex="-1"></a>unique_Months <span class="ot">&lt;-</span> <span class="fu">format</span>(myData<span class="sc">$</span>time_period, <span class="st">&quot;%B_%Y&quot;</span>)</span>
<span id="cb52-6"><a href="#cb52-6" tabindex="-1"></a><span class="fu">head</span>(unique_Months)</span></code></pre></div>
<pre><code>## [1] &quot;January_1970&quot;   &quot;September_1980&quot; &quot;April_1996&quot;     &quot;January_1959&quot;  
## [5] &quot;September_1970&quot; &quot;February_1990&quot;</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" tabindex="-1"></a><span class="co"># Week could be done like this, see ?strptime for more details</span></span>
<span id="cb54-2"><a href="#cb54-2" tabindex="-1"></a>unique_Weeks <span class="ot">&lt;-</span> <span class="fu">format</span>(myData<span class="sc">$</span>time_period, <span class="st">&quot;%U_%Y&quot;</span>)</span>
<span id="cb54-3"><a href="#cb54-3" tabindex="-1"></a><span class="fu">head</span>(unique_Weeks)</span></code></pre></div>
<pre><code>## [1] &quot;02_1970&quot; &quot;39_1980&quot; &quot;15_1996&quot; &quot;02_1959&quot; &quot;38_1970&quot; &quot;08_1990&quot;</code></pre>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="#cb56-1" tabindex="-1"></a><span class="co"># Now lets subset to records found on 60 months or more</span></span>
<span id="cb56-2"><a href="#cb56-2" tabindex="-1"></a>myData60Months <span class="ot">&lt;-</span> <span class="fu">siteSelectionMinTP</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb56-3"><a href="#cb56-3" tabindex="-1"></a>                                     <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb56-4"><a href="#cb56-4" tabindex="-1"></a>                                     <span class="at">time_period =</span> unique_Months,</span>
<span id="cb56-5"><a href="#cb56-5" tabindex="-1"></a>                                     <span class="at">minTP =</span> <span class="dv">60</span>) </span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa, site, time_period): 129 out of 8000
## observations will be removed as duplicates</code></pre>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="#cb58-1" tabindex="-1"></a><span class="fu">head</span>(myData60Months)</span></code></pre></div>
<pre><code>##   taxa site    time_period
## 1    r  A51   January_1970
## 2    v  A87 September_1980
## 3    e  A56     April_1996
## 5    r  A77 September_1970
## 6    x  A48  February_1990
## 7    t  A59   January_1981</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="#cb60-1" tabindex="-1"></a><span class="co"># We could merge this back with our original data if</span></span>
<span id="cb60-2"><a href="#cb60-2" tabindex="-1"></a><span class="co"># we need to retain the full dates</span></span>
<span id="cb60-3"><a href="#cb60-3" tabindex="-1"></a>myData60Months <span class="ot">&lt;-</span> <span class="fu">merge</span>(myData60Months, myData<span class="sc">$</span>time_period, </span>
<span id="cb60-4"><a href="#cb60-4" tabindex="-1"></a>                        <span class="at">all.x =</span> <span class="cn">TRUE</span>, <span class="at">all.y =</span> <span class="cn">FALSE</span>,</span>
<span id="cb60-5"><a href="#cb60-5" tabindex="-1"></a>                        <span class="at">by =</span> <span class="st">&quot;row.names&quot;</span>)</span>
<span id="cb60-6"><a href="#cb60-6" tabindex="-1"></a><span class="fu">head</span>(myData60Months)</span></code></pre></div>
<pre><code>##   Row.names taxa site  time_period          y
## 1         1    r  A51 January_1970 1970-01-14
## 2        10    w  A81    June_1982 1982-06-19
## 3       100    v  A91 January_1996 1996-01-29
## 4      1000    h  A94     May_1990 1981-01-17
## 5      1001    m  A73   March_1999 1990-05-18
## 6      1002    b  A59    July_1997 1999-03-05</code></pre>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" tabindex="-1"></a><span class="fu">nrow</span>(myData)</span></code></pre></div>
<pre><code>## [1] 8000</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" tabindex="-1"></a><span class="fu">nrow</span>(myData60Months)</span></code></pre></div>
<pre><code>## [1] 5289</code></pre>
<p>Following the method in Roy et al (2012) we can combine these two
functions to subset both by the length of lists and by the number of
years that sites are sampled. This has been wrapped up in to the
function <code>siteSelection</code> which takes all the arguments of the
previous two functions plus the argument <code>LFirst</code> which
indicates whether the data should be subset by list length first
(<code>TRUE</code>) or second (<code>FALSE</code>).</p>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" tabindex="-1"></a><span class="co"># Subset our data as above but in one go</span></span>
<span id="cb66-2"><a href="#cb66-2" tabindex="-1"></a>myDataSubset  <span class="ot">&lt;-</span> <span class="fu">siteSelection</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb66-3"><a href="#cb66-3" tabindex="-1"></a>                               <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb66-4"><a href="#cb66-4" tabindex="-1"></a>                               <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb66-5"><a href="#cb66-5" tabindex="-1"></a>                               <span class="at">minL =</span> <span class="dv">2</span>,</span>
<span id="cb66-6"><a href="#cb66-6" tabindex="-1"></a>                               <span class="at">minTP =</span> <span class="dv">10</span>,</span>
<span id="cb66-7"><a href="#cb66-7" tabindex="-1"></a>                               <span class="at">LFirst =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa, site, time_period): 94 out of 8000
## observations will be removed as duplicates</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" tabindex="-1"></a><span class="fu">head</span>(myDataSubset)</span></code></pre></div>
<pre><code>##    taxa site time_period
## 11    y A100  1950-01-04
## 12    k A100  1950-01-04
## 13    l A100  1954-01-30
## 14    o A100  1954-01-30
## 15    s A100  1954-01-30
## 16    m A100  1956-02-02</code></pre>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" tabindex="-1"></a><span class="fu">nrow</span>(myDataSubset)</span></code></pre></div>
<pre><code>## [1] 2587</code></pre>
</div>
<div id="running-reporting-rate-models" class="section level3">
<h3>Running Reporting Rate Models</h3>
<p>Once you have subset your data using the above functions (or perhaps
not at all) the reporting rate models can be applied using the function
<code>reportingRateModel</code>. This function offers flexibility in the
model you wish to fit, allowing the user to specify whether list length
and site should be used as covariates, whether over-dispersion should be
used, and whether the family should be binomial or Bernoulli. A number
of these variants are presented in <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a>. While multi-species data is required it is not
nessecary to model all species. In fact you can save a significant
amount of time by only modelling hte species you are interested in.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" tabindex="-1"></a><span class="co"># Run the reporting rate model using list length as a fixed effect and </span></span>
<span id="cb72-2"><a href="#cb72-2" tabindex="-1"></a><span class="co"># site as a random effect. Here we only model a few species.</span></span>
<span id="cb72-3"><a href="#cb72-3" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb72-4"><a href="#cb72-4" tabindex="-1"></a>RR_out <span class="ot">&lt;-</span> <span class="fu">reportingRateModel</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb72-5"><a href="#cb72-5" tabindex="-1"></a>                             <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb72-6"><a href="#cb72-6" tabindex="-1"></a>                             <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb72-7"><a href="#cb72-7" tabindex="-1"></a>                             <span class="at">list_length =</span> <span class="cn">TRUE</span>,</span>
<span id="cb72-8"><a href="#cb72-8" tabindex="-1"></a>                             <span class="at">site_effect =</span> <span class="cn">TRUE</span>,</span>
<span id="cb72-9"><a href="#cb72-9" tabindex="-1"></a>                             <span class="at">species_to_include =</span> <span class="fu">c</span>(<span class="st">&#39;e&#39;</span>,<span class="st">&#39;u&#39;</span>,<span class="st">&#39;r&#39;</span>,<span class="st">&#39;o&#39;</span>,<span class="st">&#39;t&#39;</span>,<span class="st">&#39;a&#39;</span>,<span class="st">&#39;s&#39;</span>),</span>
<span id="cb72-10"><a href="#cb72-10" tabindex="-1"></a>                             <span class="at">overdispersion =</span> <span class="cn">FALSE</span>,</span>
<span id="cb72-11"><a href="#cb72-11" tabindex="-1"></a>                             <span class="at">family =</span> <span class="st">&#39;Bernoulli&#39;</span>,</span>
<span id="cb72-12"><a href="#cb72-12" tabindex="-1"></a>                             <span class="at">print_progress =</span> <span class="cn">TRUE</span>)</span>
<span id="cb72-13"><a href="#cb72-13" tabindex="-1"></a>})</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa = taxa, site = site, time_period =
## time_period, : 94 out of 8000 observations will be removed as duplicates</code></pre>
<pre><code>## Modelling e - Species 1 of 7 
## Modelling u - Species 2 of 7 
## Modelling r - Species 3 of 7 
## Modelling o - Species 4 of 7 
## Modelling t - Species 5 of 7 
## Modelling a - Species 6 of 7 
## Modelling s - Species 7 of 7</code></pre>
<pre><code>##    user  system elapsed 
##   11.44    0.00   11.46</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" tabindex="-1"></a><span class="co"># Let&#39;s have a look at the data that is returned</span></span>
<span id="cb76-2"><a href="#cb76-2" tabindex="-1"></a><span class="fu">str</span>(RR_out)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    7 obs. of  14 variables:
##  $ species_name       : Factor w/ 7 levels &quot;e&quot;,&quot;u&quot;,&quot;r&quot;,&quot;o&quot;,..: 1 2 3 4 5 6 7
##  $ intercept.estimate : num  -4.53 -3.52 -3.32 -3.63 -3.68 ...
##  $ year.estimate      : num  -0.005811 -0.006944 -0.003321 0.000264 -0.004033 ...
##  $ listlength.estimate: num  0.574 0.702 0.472 0.572 0.717 ...
##  $ intercept.stderror : num  0.185 0.113 0.123 0.129 0.116 ...
##  $ year.stderror      : num  0.00583 0.00342 0.00359 0.00384 0.00361 ...
##  $ listlength.stderror: num  0.1092 0.0659 0.0754 0.0759 0.0683 ...
##  $ intercept.zvalue   : num  -24.5 -31.3 -27.1 -28.2 -31.6 ...
##  $ year.zvalue        : num  -0.9961 -2.0324 -0.9244 0.0688 -1.1177 ...
##  $ listlength.zvalue  : num  5.25 10.65 6.26 7.54 10.49 ...
##  $ intercept.pvalue   : num  2.34e-132 1.58e-214 6.06e-162 1.07e-174 3.78e-219 ...
##  $ year.pvalue        : num  0.3192 0.0421 0.3553 0.9452 0.2637 ...
##  $ listlength.pvalue  : num  1.51e-07 1.68e-26 3.76e-10 4.78e-14 9.57e-26 ...
##  $ observations       : num  144 450 398 346 398 73 426
##  - attr(*, &quot;intercept_year&quot;)= num 1974
##  - attr(*, &quot;min_year&quot;)= num -24.5
##  - attr(*, &quot;max_year&quot;)= num 24.5
##  - attr(*, &quot;nVisits&quot;)= int 6211
##  - attr(*, &quot;model_formula&quot;)= chr &quot;taxa ~ year + listLength + (1|site)&quot;</code></pre>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" tabindex="-1"></a><span class="co"># We could plot these to see the species trends</span></span>
<span id="cb78-2"><a href="#cb78-2" tabindex="-1"></a><span class="fu">with</span>(RR_out,</span>
<span id="cb78-3"><a href="#cb78-3" tabindex="-1"></a>     <span class="co"># Plot graph</span></span>
<span id="cb78-4"><a href="#cb78-4" tabindex="-1"></a>     {<span class="fu">plot</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">y =</span> year.estimate,</span>
<span id="cb78-5"><a href="#cb78-5" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">range</span>(<span class="fu">c</span>(year.estimate <span class="sc">-</span> year.stderror,</span>
<span id="cb78-6"><a href="#cb78-6" tabindex="-1"></a>                          year.estimate <span class="sc">+</span> year.stderror)),</span>
<span id="cb78-7"><a href="#cb78-7" tabindex="-1"></a>           <span class="at">ylab =</span> <span class="st">&#39;Year effect (+/- Std Dev)&#39;</span>,</span>
<span id="cb78-8"><a href="#cb78-8" tabindex="-1"></a>           <span class="at">xlab =</span> <span class="st">&#39;Species&#39;</span>,</span>
<span id="cb78-9"><a href="#cb78-9" tabindex="-1"></a>           <span class="at">xaxt =</span> <span class="st">&quot;n&quot;</span>)</span>
<span id="cb78-10"><a href="#cb78-10" tabindex="-1"></a>     <span class="co"># Add x-axis with species names</span></span>
<span id="cb78-11"><a href="#cb78-11" tabindex="-1"></a>     <span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">at =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">labels =</span> species_name)</span>
<span id="cb78-12"><a href="#cb78-12" tabindex="-1"></a>     <span class="co"># Add the error bars</span></span>
<span id="cb78-13"><a href="#cb78-13" tabindex="-1"></a>     <span class="fu">arrows</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, year.estimate <span class="sc">-</span> year.stderror,</span>
<span id="cb78-14"><a href="#cb78-14" tabindex="-1"></a>            <span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, year.estimate <span class="sc">+</span> year.stderror,</span>
<span id="cb78-15"><a href="#cb78-15" tabindex="-1"></a>            <span class="at">length =</span> <span class="fl">0.05</span>, <span class="at">angle =</span> <span class="dv">90</span>, <span class="at">code =</span> <span class="dv">3</span>)}</span>
<span id="cb78-16"><a href="#cb78-16" tabindex="-1"></a>     )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>The returned object is a data frame with one row per species. Each
column gives information on an element of the model output including
covariate estimates, standard errors and p-values. This object also has
some attributes giving the year that was chosen as the intercept, the
number of visits in the dataset and the model formula used.</p>
<p>These models can take a long time to run when your data set is larg
or you have a large number of species to model. To make this faster it
is possible to parallelise this process across species which can
significantly improve your run times. Here is an example of how we would
parallelise the above example using hte R package snowfall.</p>
<div class="sourceCode" id="cb79"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" tabindex="-1"></a><span class="co"># Load in snowfall</span></span>
<span id="cb79-2"><a href="#cb79-2" tabindex="-1"></a><span class="fu">library</span>(snowfall)</span></code></pre></div>
<pre><code>## Loading required package: snow</code></pre>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" tabindex="-1"></a><span class="co"># I have 4 cpus on my PC so I set cpus to 4</span></span>
<span id="cb81-2"><a href="#cb81-2" tabindex="-1"></a><span class="co"># when I initialise the cluster</span></span>
<span id="cb81-3"><a href="#cb81-3" tabindex="-1"></a><span class="fu">sfInit</span>(<span class="at">parallel =</span> <span class="cn">TRUE</span>, <span class="at">cpus =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## Warning in searchCommandline(parallel, cpus = cpus, type = type,
## socketHosts = socketHosts, : Unknown option on commandline:
## rmarkdown::render(&#39;W:/PYWELL_SHARED/Pywell Projects/BRC/Tom August/R
## Packages/Trend analyses/sparta/pre_vignette/sparta_vignette.Rmd&#39;, encoding</code></pre>
<pre><code>## R Version:  R version 3.2.0 (2015-04-16)</code></pre>
<pre><code>## snowfall 1.84-6 initialized (using snow 0.3-13): parallel execution on 4 CPUs.</code></pre>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" tabindex="-1"></a><span class="co"># Export my data to the cluster</span></span>
<span id="cb85-2"><a href="#cb85-2" tabindex="-1"></a><span class="fu">sfExport</span>(<span class="st">&#39;myData&#39;</span>)</span>
<span id="cb85-3"><a href="#cb85-3" tabindex="-1"></a></span>
<span id="cb85-4"><a href="#cb85-4" tabindex="-1"></a><span class="co"># I create a function that takes a species name and runs my models</span></span>
<span id="cb85-5"><a href="#cb85-5" tabindex="-1"></a>RR_mod_function <span class="ot">&lt;-</span> <span class="cf">function</span>(taxa_name){</span>
<span id="cb85-6"><a href="#cb85-6" tabindex="-1"></a>  </span>
<span id="cb85-7"><a href="#cb85-7" tabindex="-1"></a>  <span class="fu">library</span>(sparta)</span>
<span id="cb85-8"><a href="#cb85-8" tabindex="-1"></a>  </span>
<span id="cb85-9"><a href="#cb85-9" tabindex="-1"></a>  RR_out <span class="ot">&lt;-</span> <span class="fu">reportingRateModel</span>(<span class="at">species_to_include =</span> taxa_name,</span>
<span id="cb85-10"><a href="#cb85-10" tabindex="-1"></a>                               <span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb85-11"><a href="#cb85-11" tabindex="-1"></a>                               <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb85-12"><a href="#cb85-12" tabindex="-1"></a>                               <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb85-13"><a href="#cb85-13" tabindex="-1"></a>                               <span class="at">list_length =</span> <span class="cn">TRUE</span>,</span>
<span id="cb85-14"><a href="#cb85-14" tabindex="-1"></a>                               <span class="at">site_effect =</span> <span class="cn">TRUE</span>,</span>
<span id="cb85-15"><a href="#cb85-15" tabindex="-1"></a>                               <span class="at">overdispersion =</span> <span class="cn">FALSE</span>,</span>
<span id="cb85-16"><a href="#cb85-16" tabindex="-1"></a>                               <span class="at">family =</span> <span class="st">&#39;Bernoulli&#39;</span>,</span>
<span id="cb85-17"><a href="#cb85-17" tabindex="-1"></a>                               <span class="at">print_progress =</span> <span class="cn">FALSE</span>)  </span>
<span id="cb85-18"><a href="#cb85-18" tabindex="-1"></a>} </span>
<span id="cb85-19"><a href="#cb85-19" tabindex="-1"></a></span>
<span id="cb85-20"><a href="#cb85-20" tabindex="-1"></a><span class="co"># I then run this in parallel</span></span>
<span id="cb85-21"><a href="#cb85-21" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb85-22"><a href="#cb85-22" tabindex="-1"></a>para_out <span class="ot">&lt;-</span> <span class="fu">sfClusterApplyLB</span>(<span class="fu">c</span>(<span class="st">&#39;e&#39;</span>,<span class="st">&#39;u&#39;</span>,<span class="st">&#39;r&#39;</span>,<span class="st">&#39;o&#39;</span>,<span class="st">&#39;t&#39;</span>,<span class="st">&#39;a&#39;</span>,<span class="st">&#39;s&#39;</span>), RR_mod_function)</span>
<span id="cb85-23"><a href="#cb85-23" tabindex="-1"></a>})</span></code></pre></div>
<pre><code>##    user  system elapsed 
##    0.00    0.00    7.21</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" tabindex="-1"></a><span class="co"># Name each element of this output by the species</span></span>
<span id="cb87-2"><a href="#cb87-2" tabindex="-1"></a>RR_out_combined <span class="ot">&lt;-</span> <span class="fu">do.call</span>(rbind, para_out)</span>
<span id="cb87-3"><a href="#cb87-3" tabindex="-1"></a></span>
<span id="cb87-4"><a href="#cb87-4" tabindex="-1"></a><span class="co"># Stop the cluster</span></span>
<span id="cb87-5"><a href="#cb87-5" tabindex="-1"></a><span class="fu">sfStop</span>()</span></code></pre></div>
<pre><code>## 
## Stopping cluster</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" tabindex="-1"></a><span class="co"># You&#39;ll see the output is the same as when we did it serially but the</span></span>
<span id="cb89-2"><a href="#cb89-2" tabindex="-1"></a><span class="co"># time taken is shorter. Using a cluster computer with many more than </span></span>
<span id="cb89-3"><a href="#cb89-3" tabindex="-1"></a><span class="co"># 4 cores can greatly reduce run time.</span></span>
<span id="cb89-4"><a href="#cb89-4" tabindex="-1"></a><span class="fu">str</span>(RR_out_combined)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    7 obs. of  14 variables:
##  $ species_name       : Factor w/ 7 levels &quot;e&quot;,&quot;u&quot;,&quot;r&quot;,&quot;o&quot;,..: 1 2 3 4 5 6 7
##  $ intercept.estimate : num  -4.53 -3.52 -3.32 -3.63 -3.68 ...
##  $ year.estimate      : num  -0.005811 -0.006944 -0.003321 0.000264 -0.004033 ...
##  $ listlength.estimate: num  0.574 0.702 0.472 0.572 0.717 ...
##  $ intercept.stderror : num  0.185 0.113 0.123 0.129 0.116 ...
##  $ year.stderror      : num  0.00583 0.00342 0.00359 0.00384 0.00361 ...
##  $ listlength.stderror: num  0.1092 0.0659 0.0754 0.0759 0.0683 ...
##  $ intercept.zvalue   : num  -24.5 -31.3 -27.1 -28.2 -31.6 ...
##  $ year.zvalue        : num  -0.9961 -2.0324 -0.9244 0.0688 -1.1177 ...
##  $ listlength.zvalue  : num  5.25 10.65 6.26 7.54 10.49 ...
##  $ intercept.pvalue   : num  2.34e-132 1.58e-214 6.06e-162 1.07e-174 3.78e-219 ...
##  $ year.pvalue        : num  0.3192 0.0421 0.3553 0.9452 0.2637 ...
##  $ listlength.pvalue  : num  1.51e-07 1.68e-26 3.76e-10 4.78e-14 9.57e-26 ...
##  $ observations       : num  144 450 398 346 398 73 426
##  - attr(*, &quot;intercept_year&quot;)= num 1974
##  - attr(*, &quot;min_year&quot;)= num -24.5
##  - attr(*, &quot;max_year&quot;)= num 24.5
##  - attr(*, &quot;nVisits&quot;)= int 6211
##  - attr(*, &quot;model_formula&quot;)= chr &quot;taxa ~ year + listLength + (1|site)&quot;</code></pre>
<p>Using these functions it is possible to recreate the ‘Well-sampled
sites’ method that is presented in <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1472-4642.2012.00883.x/abstract">Roy
et al (2012)</a> and <a href="http://onlinelibrary.wiley.com/doi/10.1111/bij.12527/full">Thomas
et al (2015)</a>. This is made available in the function
<code>WSS</code> which is a simple wrapper around
<code>siteSelection</code> and <code>reportingratemodel</code>. In this
variant the data is subset by list length and the number of years each
site was sampled before being run in a GLMM with site as a random
effect.</p>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" tabindex="-1"></a><span class="co"># Run our data through the well-sampled sites function</span></span>
<span id="cb91-2"><a href="#cb91-2" tabindex="-1"></a><span class="co"># This time we run all species</span></span>
<span id="cb91-3"><a href="#cb91-3" tabindex="-1"></a>WSS_out <span class="ot">&lt;-</span> <span class="fu">WSS</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb91-4"><a href="#cb91-4" tabindex="-1"></a>               <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb91-5"><a href="#cb91-5" tabindex="-1"></a>               <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb91-6"><a href="#cb91-6" tabindex="-1"></a>               <span class="at">minL =</span> <span class="dv">2</span>,</span>
<span id="cb91-7"><a href="#cb91-7" tabindex="-1"></a>               <span class="at">minTP =</span> <span class="dv">10</span>,</span>
<span id="cb91-8"><a href="#cb91-8" tabindex="-1"></a>               <span class="at">print_progress =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa, site, time_period): 94 out of 8000
## observations will be removed as duplicates</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" tabindex="-1"></a><span class="co"># The data is returned in the same format as from reportingRateModel</span></span>
<span id="cb93-2"><a href="#cb93-2" tabindex="-1"></a><span class="fu">str</span>(WSS_out)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    26 obs. of  10 variables:
##  $ species_name      : Factor w/ 26 levels &quot;r&quot;,&quot;v&quot;,&quot;e&quot;,&quot;z&quot;,..: 1 2 3 4 5 6 7 8 9 10 ...
##  $ intercept.estimate: num  -2.29 -1.85 -3.17 -1.81 -1.75 ...
##  $ year.estimate     : num  -0.00912 0.0012 0.00158 0.00143 -0.00247 ...
##  $ intercept.stderror: num  0.1021 0.0861 0.1875 0.0848 0.0829 ...
##  $ year.stderror     : num  0.00684 0.00574 0.00973 0.00565 0.00554 ...
##  $ intercept.zvalue  : num  -22.4 -21.5 -16.9 -21.3 -21.1 ...
##  $ year.zvalue       : num  -1.334 0.208 0.163 0.253 -0.446 ...
##  $ intercept.pvalue  : num  1.70e-111 1.66e-102 6.55e-64 6.87e-101 1.06e-98 ...
##  $ year.pvalue       : num  0.182 0.835 0.871 0.8 0.656 ...
##  $ observations      : num  106 157 50 163 171 148 125 155 61 104 ...
##  - attr(*, &quot;intercept_year&quot;)= num 1974
##  - attr(*, &quot;min_year&quot;)= num -24.5
##  - attr(*, &quot;max_year&quot;)= num 24.5
##  - attr(*, &quot;nVisits&quot;)= int 1155
##  - attr(*, &quot;model_formula&quot;)= chr &quot;cbind(successes, failures) ~ year + (1|site)&quot;
##  - attr(*, &quot;minL&quot;)= num 2
##  - attr(*, &quot;minTP&quot;)= num 10</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" tabindex="-1"></a><span class="co"># We can plot these and see that we get different results to our</span></span>
<span id="cb95-2"><a href="#cb95-2" tabindex="-1"></a><span class="co"># previous analysis since this time the method includes subsetting</span></span>
<span id="cb95-3"><a href="#cb95-3" tabindex="-1"></a><span class="fu">with</span>(WSS_out[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>,],</span>
<span id="cb95-4"><a href="#cb95-4" tabindex="-1"></a>     <span class="co"># Plot graph</span></span>
<span id="cb95-5"><a href="#cb95-5" tabindex="-1"></a>     {<span class="fu">plot</span>(<span class="at">x =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">y =</span> year.estimate,</span>
<span id="cb95-6"><a href="#cb95-6" tabindex="-1"></a>           <span class="at">ylim =</span> <span class="fu">range</span>(<span class="fu">c</span>(year.estimate <span class="sc">-</span> year.stderror,</span>
<span id="cb95-7"><a href="#cb95-7" tabindex="-1"></a>                          year.estimate <span class="sc">+</span> year.stderror)),</span>
<span id="cb95-8"><a href="#cb95-8" tabindex="-1"></a>           <span class="at">ylab =</span> <span class="st">&#39;Year effect (+/- Std Dev)&#39;</span>,</span>
<span id="cb95-9"><a href="#cb95-9" tabindex="-1"></a>           <span class="at">xlab =</span> <span class="st">&#39;Species&#39;</span>,</span>
<span id="cb95-10"><a href="#cb95-10" tabindex="-1"></a>           <span class="at">xaxt=</span><span class="st">&quot;n&quot;</span>)</span>
<span id="cb95-11"><a href="#cb95-11" tabindex="-1"></a>     <span class="co"># Add x-axis with species names</span></span>
<span id="cb95-12"><a href="#cb95-12" tabindex="-1"></a>     <span class="fu">axis</span>(<span class="dv">1</span>, <span class="at">at=</span><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, <span class="at">labels =</span> species_name[<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>])</span>
<span id="cb95-13"><a href="#cb95-13" tabindex="-1"></a>     <span class="co"># Add the error bars</span></span>
<span id="cb95-14"><a href="#cb95-14" tabindex="-1"></a>     <span class="fu">arrows</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, year.estimate <span class="sc">-</span> year.stderror,</span>
<span id="cb95-15"><a href="#cb95-15" tabindex="-1"></a>            <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>, year.estimate <span class="sc">+</span> year.stderror,</span>
<span id="cb95-16"><a href="#cb95-16" tabindex="-1"></a>            <span class="at">length=</span><span class="fl">0.05</span>, <span class="at">angle=</span><span class="dv">90</span>, <span class="at">code=</span><span class="dv">3</span>)}</span>
<span id="cb95-17"><a href="#cb95-17" tabindex="-1"></a>     )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
</div>
</div>
<div id="occupancy-models" class="section level2">
<h2>Occupancy models</h2>
<p>Occupancy models were found by <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a> to be one of the best tools for analysing species
occurrence data typical of citizen science projects, being both robust
and powerful. This method models the occupancy process separately from
the detection process, but we will not go in to the details of the model
here since there is a growing literature about occupancy models, how and
when they should be used. Here we focus on how the occupancy model
discussed in Isaac et al 2014 is implemented in <code>sparta</code>.</p>
<p>This function works in a very similar fashion to that of the previous
functions we have discussed. The data it takes is ‘What, where, when’ as
in other functions, however here we have the option to specify which
species we wish to model. This feature has been added as occupancy
models are computationally intensive. The parameters of the function
allow you control over the number of iterations, burnin, thinning, the
number of chains, the seed and for advanced users there is also the
possibility to pass in your own BUGS script.</p>
<div class="sourceCode" id="cb96"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" tabindex="-1"></a><span class="co"># Here is our data</span></span>
<span id="cb96-2"><a href="#cb96-2" tabindex="-1"></a><span class="fu">str</span>(myData)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    8000 obs. of  4 variables:
##  $ taxa       : Factor w/ 26 levels &quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;d&quot;,..: 18 22 5 26 18 24 20 24 17 23 ...
##  $ site       : Factor w/ 100 levels &quot;A1&quot;,&quot;A10&quot;,&quot;A100&quot;,..: 48 87 53 22 76 44 56 66 92 81 ...
##  $ time_period: Date, format: &quot;1970-01-14&quot; &quot;1980-09-29&quot; ...
##  $ tp         : int  3 4 5 1 3 5 4 1 5 4 ...</code></pre>
<div class="sourceCode" id="cb98"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" tabindex="-1"></a><span class="co"># Run an occupancy model for three species</span></span>
<span id="cb98-2"><a href="#cb98-2" tabindex="-1"></a><span class="co"># Here we use very small number of iterations </span></span>
<span id="cb98-3"><a href="#cb98-3" tabindex="-1"></a><span class="co"># to avoid a long run time</span></span>
<span id="cb98-4"><a href="#cb98-4" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb98-5"><a href="#cb98-5" tabindex="-1"></a>occ_out <span class="ot">&lt;-</span> <span class="fu">occDetModel</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb98-6"><a href="#cb98-6" tabindex="-1"></a>                       <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb98-7"><a href="#cb98-7" tabindex="-1"></a>                       <span class="at">time_period =</span> myData<span class="sc">$</span>time_period,</span>
<span id="cb98-8"><a href="#cb98-8" tabindex="-1"></a>                       <span class="at">species_list =</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>),</span>
<span id="cb98-9"><a href="#cb98-9" tabindex="-1"></a>                       <span class="at">write_results =</span> <span class="cn">FALSE</span>,</span>
<span id="cb98-10"><a href="#cb98-10" tabindex="-1"></a>                       <span class="at">n_iterations =</span> <span class="dv">200</span>,</span>
<span id="cb98-11"><a href="#cb98-11" tabindex="-1"></a>                       <span class="at">burnin =</span> <span class="dv">15</span>,</span>
<span id="cb98-12"><a href="#cb98-12" tabindex="-1"></a>                       <span class="at">n_chains =</span> <span class="dv">3</span>,</span>
<span id="cb98-13"><a href="#cb98-13" tabindex="-1"></a>                       <span class="at">thinning =</span> <span class="dv">3</span>,</span>
<span id="cb98-14"><a href="#cb98-14" tabindex="-1"></a>                       <span class="at">seed =</span> <span class="dv">123</span>)</span>
<span id="cb98-15"><a href="#cb98-15" tabindex="-1"></a>})</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa = taxa, site = site, time_period =
## time_period): 94 out of 8000 observations will be removed as duplicates</code></pre>
<pre><code>## 
## ###
## Modeling a - 1 of 4 taxa</code></pre>
<pre><code>## module glm loaded</code></pre>
<pre><code>## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
##    Graph Size: 64272
## 
## Initializing model
## 
## 
## ###
## Modeling b - 2 of 4 taxa
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
##    Graph Size: 64306
## 
## Initializing model
## 
## 
## ###
## Modeling c - 3 of 4 taxa
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
##    Graph Size: 64308
## 
## Initializing model
## 
## 
## ###
## Modeling d - 4 of 4 taxa
## Compiling model graph
##    Resolving undeclared variables
##    Allocating nodes
##    Graph Size: 64328
## 
## Initializing model</code></pre>
<pre><code>##    user  system elapsed 
##   70.20    0.08   70.53</code></pre>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" tabindex="-1"></a><span class="co"># Lets look at the results</span></span>
<span id="cb104-2"><a href="#cb104-2" tabindex="-1"></a><span class="do">## The object returned is a list with one element for each species</span></span>
<span id="cb104-3"><a href="#cb104-3" tabindex="-1"></a><span class="fu">names</span>(occ_out)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot;</code></pre>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" tabindex="-1"></a><span class="co"># Each of these is an object of class &#39;occDet&#39;</span></span>
<span id="cb106-2"><a href="#cb106-2" tabindex="-1"></a><span class="fu">class</span>(occ_out<span class="sc">$</span>a)</span></code></pre></div>
<pre><code>## [1] &quot;occDet&quot;</code></pre>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" tabindex="-1"></a><span class="co"># Inside these elements is the information of interest</span></span>
<span id="cb108-2"><a href="#cb108-2" tabindex="-1"></a><span class="fu">names</span>(occ_out<span class="sc">$</span>a)</span></code></pre></div>
<pre><code>## [1] &quot;model&quot;              &quot;BUGSoutput&quot;         &quot;parameters.to.save&quot;
## [4] &quot;model.file&quot;         &quot;n.iter&quot;             &quot;DIC&quot;               
## [7] &quot;SPP_NAME&quot;           &quot;min_year&quot;           &quot;max_year&quot;</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" tabindex="-1"></a><span class="co"># Of particular interest to many users will be the summary</span></span>
<span id="cb110-2"><a href="#cb110-2" tabindex="-1"></a><span class="co"># data in the BUGSoutput</span></span>
<span id="cb110-3"><a href="#cb110-3" tabindex="-1"></a><span class="fu">head</span>(occ_out<span class="sc">$</span>a<span class="sc">$</span>BUGSoutput<span class="sc">$</span>summary)</span></code></pre></div>
<pre><code>##                   mean         sd        2.5%          25%         50%
## LL.p         0.2691009  0.3102804  -0.3519707   0.04895419   0.2556833
## deviance   649.7160858 51.1319847 544.5524433 614.12892478 666.5255290
## fit        281.9522389 89.1997805 190.9883913 219.13112637 247.9393552
## fit.new    283.9149866 90.5760094 185.6004878 217.89008520 254.7165849
## mean_early   0.3701971  0.1718789   0.1274588   0.25082920   0.3516627
## mean_late    0.4114516  0.1241131   0.1808044   0.35083037   0.4000000
##                    75%       97.5%     Rhat n.eff
## LL.p         0.4929832   0.8780177 0.993288   190
## deviance   688.2839296 710.7614446 1.031683    64
## fit        316.7603165 499.9895976 1.009975   120
## fit.new    319.0321333 504.5251365 1.006007   160
## mean_early   0.4283236   0.7837351 1.841981     5
## mean_late    0.4591644   0.7623305 1.295740    12</code></pre>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" tabindex="-1"></a><span class="co"># We have included a plotting feature for objects of class</span></span>
<span id="cb112-2"><a href="#cb112-2" tabindex="-1"></a><span class="co"># occDet which provides a useful visualisation of the trend</span></span>
<span id="cb112-3"><a href="#cb112-3" tabindex="-1"></a><span class="co"># in occupancy over time</span></span>
<span id="cb112-4"><a href="#cb112-4" tabindex="-1"></a><span class="fu">plot</span>(occ_out<span class="sc">$</span>a)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>He we have run a small example but in reality these models are
usually run for many thousands of iterations, making the analysis of
more than a handful of species impractical. For those with access to the
necessary facilities it is possible to parallelise across species. To do
this we use a pair of functions that are used internally by
<code>occDetModel</code>. These are <code>formatOccData</code> which is
used to format our occurrence data into the format needed by JAGS, and
<code>occDetFunc</code>, the function which undertakes the
modelling.</p>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1" tabindex="-1"></a><span class="co"># First format our data</span></span>
<span id="cb113-2"><a href="#cb113-2" tabindex="-1"></a>formattedOccData <span class="ot">&lt;-</span> <span class="fu">formatOccData</span>(<span class="at">taxa =</span> myData<span class="sc">$</span>taxa,</span>
<span id="cb113-3"><a href="#cb113-3" tabindex="-1"></a>                                  <span class="at">site =</span> myData<span class="sc">$</span>site,</span>
<span id="cb113-4"><a href="#cb113-4" tabindex="-1"></a>                                  <span class="at">time_period =</span> myData<span class="sc">$</span>time_period)</span></code></pre></div>
<pre><code>## Warning in errorChecks(taxa = taxa, site = site, time_period =
## time_period): 94 out of 8000 observations will be removed as duplicates</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1" tabindex="-1"></a><span class="co"># This is a list of two elements</span></span>
<span id="cb115-2"><a href="#cb115-2" tabindex="-1"></a><span class="fu">names</span>(formattedOccData)</span></code></pre></div>
<pre><code>## [1] &quot;spp_vis&quot;    &quot;occDetdata&quot;</code></pre>
<p><code>formatOccData</code> returns a list of length 2; the first
element ‘spp_vis’ is a data.frame with visit (unique combination of site
and time period) in the first column and taxa for all the following
columns. Values in taxa columns are either TRUE or FALSE depending on
whether they were observed on that visit.</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1" tabindex="-1"></a><span class="co"># Lets have a look at spp_vis</span></span>
<span id="cb117-2"><a href="#cb117-2" tabindex="-1"></a><span class="fu">head</span>(formattedOccData<span class="sc">$</span>spp_vis[,<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span></code></pre></div>
<pre><code>##            visit     a     b     c     d
## 1 A1001950-01-04 FALSE FALSE FALSE FALSE
## 2 A1001950-11-01  TRUE FALSE FALSE FALSE
## 3 A1001951-08-25 FALSE FALSE FALSE FALSE
## 4 A1001951-11-03 FALSE FALSE FALSE FALSE
## 5 A1001952-02-07 FALSE FALSE FALSE FALSE
## 6 A1001953-02-22 FALSE FALSE FALSE FALSE</code></pre>
<p>The second element (‘occDetData’) is a data frame giving the site,
list length (the number of species observed on a visit) and year for
each visit.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" tabindex="-1"></a><span class="co"># Lets have a look at occDetData</span></span>
<span id="cb119-2"><a href="#cb119-2" tabindex="-1"></a><span class="fu">head</span>(formattedOccData<span class="sc">$</span>occDetdata)</span></code></pre></div>
<pre><code>##            visit site L year
## 1 A1001950-01-04 A100 2 1950
## 3 A1001950-11-01 A100 1 1950
## 4 A1001951-08-25 A100 1 1951
## 5 A1001951-11-03 A100 1 1951
## 6 A1001952-02-07 A100 1 1952
## 7 A1001953-02-22 A100 1 1953</code></pre>
<p>With our data in the correct format this can now go into the
modelling function</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" tabindex="-1"></a><span class="co"># Use the occupancy modelling function to parrellise the process</span></span>
<span id="cb121-2"><a href="#cb121-2" tabindex="-1"></a><span class="co"># Here we are going to use the package snowfall</span></span>
<span id="cb121-3"><a href="#cb121-3" tabindex="-1"></a><span class="fu">library</span>(snowfall)</span>
<span id="cb121-4"><a href="#cb121-4" tabindex="-1"></a></span>
<span id="cb121-5"><a href="#cb121-5" tabindex="-1"></a><span class="co"># I have 4 cpus on my PC so I set cpus to 4</span></span>
<span id="cb121-6"><a href="#cb121-6" tabindex="-1"></a><span class="co"># when I initialise the cluster</span></span>
<span id="cb121-7"><a href="#cb121-7" tabindex="-1"></a><span class="fu">sfInit</span>(<span class="at">parallel =</span> <span class="cn">TRUE</span>, <span class="at">cpus =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## Warning in searchCommandline(parallel, cpus = cpus, type = type,
## socketHosts = socketHosts, : Unknown option on commandline:
## rmarkdown::render(&#39;W:/PYWELL_SHARED/Pywell Projects/BRC/Tom August/R
## Packages/Trend analyses/sparta/pre_vignette/sparta_vignette.Rmd&#39;, encoding</code></pre>
<pre><code>## snowfall 1.84-6 initialized (using snow 0.3-13): parallel execution on 4 CPUs.</code></pre>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" tabindex="-1"></a><span class="co"># Export my data to the cluster</span></span>
<span id="cb124-2"><a href="#cb124-2" tabindex="-1"></a><span class="fu">sfExport</span>(<span class="st">&#39;formattedOccData&#39;</span>)</span>
<span id="cb124-3"><a href="#cb124-3" tabindex="-1"></a></span>
<span id="cb124-4"><a href="#cb124-4" tabindex="-1"></a><span class="co"># I create a function that takes a species name and runs my model</span></span>
<span id="cb124-5"><a href="#cb124-5" tabindex="-1"></a>occ_mod_function <span class="ot">&lt;-</span> <span class="cf">function</span>(taxa_name){</span>
<span id="cb124-6"><a href="#cb124-6" tabindex="-1"></a>  </span>
<span id="cb124-7"><a href="#cb124-7" tabindex="-1"></a>  <span class="fu">library</span>(sparta)</span>
<span id="cb124-8"><a href="#cb124-8" tabindex="-1"></a>  </span>
<span id="cb124-9"><a href="#cb124-9" tabindex="-1"></a>  occ_out <span class="ot">&lt;-</span> <span class="fu">occDetFunc</span>(<span class="at">taxa_name =</span> taxa_name,</span>
<span id="cb124-10"><a href="#cb124-10" tabindex="-1"></a>                        <span class="at">n_iterations =</span> <span class="dv">200</span>,</span>
<span id="cb124-11"><a href="#cb124-11" tabindex="-1"></a>                        <span class="at">burnin =</span> <span class="dv">15</span>, </span>
<span id="cb124-12"><a href="#cb124-12" tabindex="-1"></a>                        <span class="at">occDetdata =</span> formattedOccData<span class="sc">$</span>occDetdata,</span>
<span id="cb124-13"><a href="#cb124-13" tabindex="-1"></a>                        <span class="at">spp_vis =</span> formattedOccData<span class="sc">$</span>spp_vis,</span>
<span id="cb124-14"><a href="#cb124-14" tabindex="-1"></a>                        <span class="at">write_results =</span> <span class="cn">FALSE</span>,</span>
<span id="cb124-15"><a href="#cb124-15" tabindex="-1"></a>                        <span class="at">seed =</span> <span class="dv">123</span>)  </span>
<span id="cb124-16"><a href="#cb124-16" tabindex="-1"></a>} </span>
<span id="cb124-17"><a href="#cb124-17" tabindex="-1"></a></span>
<span id="cb124-18"><a href="#cb124-18" tabindex="-1"></a><span class="co"># I then run this in parallel</span></span>
<span id="cb124-19"><a href="#cb124-19" tabindex="-1"></a><span class="fu">system.time</span>({</span>
<span id="cb124-20"><a href="#cb124-20" tabindex="-1"></a>para_out <span class="ot">&lt;-</span> <span class="fu">sfClusterApplyLB</span>(<span class="fu">c</span>(<span class="st">&#39;a&#39;</span>,<span class="st">&#39;b&#39;</span>,<span class="st">&#39;c&#39;</span>,<span class="st">&#39;d&#39;</span>), occ_mod_function)</span>
<span id="cb124-21"><a href="#cb124-21" tabindex="-1"></a>})</span></code></pre></div>
<pre><code>##    user  system elapsed 
##    0.02    0.01   25.95</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" tabindex="-1"></a><span class="co"># Name each element of this output by the species</span></span>
<span id="cb126-2"><a href="#cb126-2" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span>  <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(para_out)) <span class="fu">names</span>(para_out)[i] <span class="ot">&lt;-</span> para_out[[i]]<span class="sc">$</span>SPP_NAM</span>
<span id="cb126-3"><a href="#cb126-3" tabindex="-1"></a></span>
<span id="cb126-4"><a href="#cb126-4" tabindex="-1"></a><span class="co"># Stop the cluster</span></span>
<span id="cb126-5"><a href="#cb126-5" tabindex="-1"></a><span class="fu">sfStop</span>()</span></code></pre></div>
<pre><code>## 
## Stopping cluster</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" tabindex="-1"></a><span class="co"># This takes about half the time of the </span></span>
<span id="cb128-2"><a href="#cb128-2" tabindex="-1"></a><span class="co"># serial version we ran earlier, and the resulting object </span></span>
<span id="cb128-3"><a href="#cb128-3" tabindex="-1"></a><span class="co"># is the same (since we set the random seed to be the same</span></span>
<span id="cb128-4"><a href="#cb128-4" tabindex="-1"></a><span class="co"># in each)</span></span>
<span id="cb128-5"><a href="#cb128-5" tabindex="-1"></a><span class="fu">head</span>(para_out<span class="sc">$</span>a<span class="sc">$</span>BUGSoutput<span class="sc">$</span>summary)</span></code></pre></div>
<pre><code>##                   mean         sd        2.5%          25%         50%
## LL.p         0.2691009  0.3102804  -0.3519707   0.04895419   0.2556833
## deviance   649.7160858 51.1319847 544.5524433 614.12892478 666.5255290
## fit        281.9522389 89.1997805 190.9883913 219.13112637 247.9393552
## fit.new    283.9149866 90.5760094 185.6004878 217.89008520 254.7165849
## mean_early   0.3708781  0.1715081   0.1307932   0.25000000   0.3466667
## mean_late    0.4106272  0.1219015   0.1887431   0.35000000   0.3966667
##                    75%       97.5%     Rhat n.eff
## LL.p         0.4929832   0.8780177 0.993288   190
## deviance   688.2839296 710.7614446 1.031683    64
## fit        316.7603165 499.9895976 1.009975   120
## fit.new    319.0321333 504.5251365 1.006007   160
## mean_early   0.4349904   0.7779150 1.853765     5
## mean_late    0.4533333   0.7547538 1.302426    11</code></pre>
<div class="sourceCode" id="cb130"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" tabindex="-1"></a><span class="fu">plot</span>(para_out<span class="sc">$</span>a)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>This same approach can be used on cluster computers, which can have
hundreds of processors, to dramatically reduce run times.</p>
</div>
<div id="frescalo" class="section level2">
<h2>Frescalo</h2>
<p>The frescalo method is outlined in <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00146.x/suppinfo">Hill
(2012)</a> and is a means to account for both spatial and temporal bias.
This method was shown by <a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac
et al (2014)</a> to be a good method for data that is aggregated into
time periods such as when comparing atlases. The frescalo method is run
using a .exe, you will need to download this file by visiting this link
- <a href="https://github.com/BiologicalRecordsCentre/frescalo">https://github.com/BiologicalRecordsCentre/frescalo</a>.
Once you have downloaded the .exe make a note of the directory you have
placed it in, we will need that in a moment.</p>
<p>Again we will assume that your data is in a ‘what, where, when’
format similar to that we used in the previous method:</p>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="#cb131-1" tabindex="-1"></a><span class="fu">head</span>(myData)</span></code></pre></div>
<pre><code>##   taxa site time_period tp
## 1    r  A51  1970-01-14  3
## 2    v  A87  1980-09-29  4
## 3    e  A56  1996-04-14  5
## 4    z  A28  1959-01-16  1
## 5    r  A77  1970-09-21  3
## 6    x  A48  1990-02-25  5</code></pre>
<p>Frescalo’s requirements in terms of data structure and types is a
little different to that we have seen in other functions. Firstly the
entire data.frame is passed in as an argument called <code>Data</code>,
and the column names of your various elements (taxa, site, etc) are
given as other arguments. Secondly frescalo requires that the ‘when’
component is either a column of year or two columns, one of ‘start date’
and one of ‘end date’. Our data as presented above does not fit into
this format so first we must reformat it. In our situation the simplest
thing to do is to add a column giving the year. Since frescalo
aggregates across time periods (often decades or greater) this loss of
temporal resolution is not an issue.</p>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="#cb133-1" tabindex="-1"></a><span class="co"># Add a year column</span></span>
<span id="cb133-2"><a href="#cb133-2" tabindex="-1"></a>myData<span class="sc">$</span>year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(<span class="fu">format</span>(myData<span class="sc">$</span>time_period, <span class="st">&#39;%Y&#39;</span>))</span>
<span id="cb133-3"><a href="#cb133-3" tabindex="-1"></a><span class="fu">head</span>(myData)</span></code></pre></div>
<pre><code>##   taxa site time_period tp year
## 1    r  A51  1970-01-14  3 1970
## 2    v  A87  1980-09-29  4 1980
## 3    e  A56  1996-04-14  5 1996
## 4    z  A28  1959-01-16  1 1959
## 5    r  A77  1970-09-21  3 1970
## 6    x  A48  1990-02-25  5 1990</code></pre>
<p>Now we have our data in the correct format for frescalo there is one
other major component we need, a weights file. You can find out more
about the weights file and what it is used for in the original paper <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00146.x/suppinfo">(Hill,
2012)</a>. In short the weights file outlines the similarity between
sites in your dataset. This information is used to weight the analysis
of each site accordingly. If you are undertaking this analysis in the UK
at 10km square resolution there are some built in weights files you can
use. Some of these weights files use the UK landcover map instead of
floristic similarity (as used in <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00146.x/suppinfo">Hill
(2012)</a>). You can find out more about these in the frescalo help
file.</p>
<p>For the sake of demonstration let us assume that you do not have a
weights file for your analysis, or that you want to create your own. To
create a weights file you need two things, a measure of physical
distance between your sites and a measure of similarity. In the original
paper this similarity measure was floristic similarity, but it could
also be habitat similarity or whatever is relevant for the taxa you are
studying. In this example I have a table of distances and of land cover
proportions at each site</p>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="#cb135-1" tabindex="-1"></a><span class="co"># Here is the distance table</span></span>
<span id="cb135-2"><a href="#cb135-2" tabindex="-1"></a><span class="fu">head</span>(myDistances)</span></code></pre></div>
<pre><code>##     x   y     dist
## 1 A51 A51    0.000
## 2 A87 A51 4074.258
## 3 A56 A51 6595.711
## 4 A28 A51 1531.943
## 5 A77 A51 5732.942
## 6 A48 A51 2394.873</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="#cb137-1" tabindex="-1"></a><span class="co"># Here is our habitat data</span></span>
<span id="cb137-2"><a href="#cb137-2" tabindex="-1"></a><span class="fu">head</span>(myHabitatData)</span></code></pre></div>
<pre><code>##   site grassland  woodland  heathland      urban freshwater
## 1  A51 0.1169123 0.1084992 0.28376157 0.37312774 0.11769919
## 2  A87 0.1781151 0.1307214 0.35258119 0.26223604 0.07634632
## 3  A56 0.2359391 0.1263644 0.25898930 0.13490734 0.24379991
## 4  A28 0.3100922 0.1373896 0.20870313 0.28659095 0.05722412
## 5  A77 0.2034073 0.4897063 0.05368464 0.01677132 0.23643036
## 6  A48 0.2397599 0.1046128 0.34250853 0.13055663 0.18256221</code></pre>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="#cb139-1" tabindex="-1"></a><span class="co"># With our distance and habitat tables in hand we can</span></span>
<span id="cb139-2"><a href="#cb139-2" tabindex="-1"></a><span class="co"># use the createWeights function to build our weights file</span></span>
<span id="cb139-3"><a href="#cb139-3" tabindex="-1"></a><span class="co"># I have changed the defualts of dist_sub and sim_sub since</span></span>
<span id="cb139-4"><a href="#cb139-4" tabindex="-1"></a><span class="co"># we have a very small example dataset of only 50 sites</span></span>
<span id="cb139-5"><a href="#cb139-5" tabindex="-1"></a>myWeights <span class="ot">&lt;-</span> <span class="fu">createWeights</span>(<span class="at">distances =</span> myDistances,</span>
<span id="cb139-6"><a href="#cb139-6" tabindex="-1"></a>                           <span class="at">attributes =</span> myHabitatData,</span>
<span id="cb139-7"><a href="#cb139-7" tabindex="-1"></a>                           <span class="at">dist_sub =</span> <span class="dv">20</span>,</span>
<span id="cb139-8"><a href="#cb139-8" tabindex="-1"></a>                           <span class="at">sim_sub =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Creating similarity distance table...Complete
## Creating weights file...
## 0%
## 10%
## 20%
## 30%
## 40%
## 50%
## 60%
## 70%
## 80%
## 90%
## 100%
## Complete</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="#cb141-1" tabindex="-1"></a><span class="fu">head</span>(myWeights)</span></code></pre></div>
<pre><code>##   target neighbour weight
## 1    A51        A2 0.0311
## 2    A51       A47 0.1150
## 3    A51       A49 0.0012
## 4    A51       A51 1.0000
## 5    A51       A53 0.0160
## 6    A51       A62 0.2687</code></pre>
<p>The <code>createWeights</code> function follows the procedure
outlined in <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00146.x/suppinfo">Hill
(2012)</a> for creating weights and more information can be found in the
help file of the function. With our data and weights file we are now
ready to proceed with frescalo. As with other functions frescalo can
take a range of additional arguments which you can see by entering
<code>?frescalo</code> at the console, here we will do a minimal
example.</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" tabindex="-1"></a><span class="co"># First we need to enter the location where we placed the .exe</span></span>
<span id="cb143-2"><a href="#cb143-2" tabindex="-1"></a><span class="co"># In my case I saved it to my documents folder</span></span>
<span id="cb143-3"><a href="#cb143-3" tabindex="-1"></a>myFrescaloPath <span class="ot">&lt;-</span> <span class="st">&#39;C:/Users/tomaug/Documents/Frescalo_3a_windows.exe&#39;</span></span>
<span id="cb143-4"><a href="#cb143-4" tabindex="-1"></a></span>
<span id="cb143-5"><a href="#cb143-5" tabindex="-1"></a><span class="co"># I then want to set up the time periods I want to analyse</span></span>
<span id="cb143-6"><a href="#cb143-6" tabindex="-1"></a><span class="co"># Here I say I want to compare 1980-89 to 1990-99</span></span>
<span id="cb143-7"><a href="#cb143-7" tabindex="-1"></a>myTimePeriods <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">start =</span> <span class="fu">c</span>(<span class="dv">1980</span>, <span class="dv">1990</span>), <span class="at">end =</span> <span class="fu">c</span>(<span class="dv">1989</span>, <span class="dv">1999</span>))</span>
<span id="cb143-8"><a href="#cb143-8" tabindex="-1"></a><span class="fu">head</span>(myTimePeriods)</span></code></pre></div>
<pre><code>##   start  end
## 1  1980 1989
## 2  1990 1999</code></pre>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" tabindex="-1"></a><span class="co"># I also need to specify where I want my results to be saved</span></span>
<span id="cb145-2"><a href="#cb145-2" tabindex="-1"></a><span class="co"># I&#39;m going to save it in a folder in my working directory</span></span>
<span id="cb145-3"><a href="#cb145-3" tabindex="-1"></a>myFolder <span class="ot">&lt;-</span> <span class="st">&#39;~/myFolder&#39;</span></span>
<span id="cb145-4"><a href="#cb145-4" tabindex="-1"></a></span>
<span id="cb145-5"><a href="#cb145-5" tabindex="-1"></a><span class="co"># Simple run of frescalo</span></span>
<span id="cb145-6"><a href="#cb145-6" tabindex="-1"></a>frescalo_results <span class="ot">&lt;-</span> <span class="fu">frescalo</span>(<span class="at">Data =</span> myData, </span>
<span id="cb145-7"><a href="#cb145-7" tabindex="-1"></a>                             <span class="at">frespath =</span> myFrescaloPath,</span>
<span id="cb145-8"><a href="#cb145-8" tabindex="-1"></a>                             <span class="at">time_periods =</span> myTimePeriods,</span>
<span id="cb145-9"><a href="#cb145-9" tabindex="-1"></a>                             <span class="at">site_col =</span> <span class="st">&#39;site&#39;</span>,</span>
<span id="cb145-10"><a href="#cb145-10" tabindex="-1"></a>                             <span class="at">sp_col =</span> <span class="st">&#39;taxa&#39;</span>,</span>
<span id="cb145-11"><a href="#cb145-11" tabindex="-1"></a>                             <span class="at">year =</span> <span class="st">&#39;year&#39;</span>,</span>
<span id="cb145-12"><a href="#cb145-12" tabindex="-1"></a>                             <span class="at">Fres_weights =</span> myWeights,</span>
<span id="cb145-13"><a href="#cb145-13" tabindex="-1"></a>                             <span class="at">sinkdir =</span> myFolder)</span></code></pre></div>
<pre><code>## 
## SAVING DATA TO FRESCALO WORKING DIRECTORY
## ********************
## 
## 
## RUNNING FRESCALO
## ********************</code></pre>
<pre><code>## Warning in run_fresc_file(fres_data = Data, output_dir = fresoutput,
## frescalo_path = frespath, : Your value of phi (0.74) is smaller than the
## 98.5 percentile of input phi (0.89). It is reccommended your phi be similar
## to this value. For more information see Hill (2011) reference in frescalo
## help file</code></pre>
<pre><code>## Building Species List - Complete
## Outputting Species Results
##  Species 1 of 26 - a - 10/07/2015 14:21:05
##  Species 2 of 26 - b - 10/07/2015 14:21:05
##  Species 3 of 26 - c - 10/07/2015 14:21:05
##  Species 4 of 26 - d - 10/07/2015 14:21:05
##  Species 5 of 26 - e - 10/07/2015 14:21:05
##  Species 6 of 26 - f - 10/07/2015 14:21:05
##  Species 7 of 26 - g - 10/07/2015 14:21:05
##  Species 8 of 26 - h - 10/07/2015 14:21:05
##  Species 9 of 26 - i - 10/07/2015 14:21:05
##  Species 10 of 26 - j - 10/07/2015 14:21:05
##  Species 11 of 26 - k - 10/07/2015 14:21:05
##  Species 12 of 26 - l - 10/07/2015 14:21:05
##  Species 13 of 26 - m - 10/07/2015 14:21:05
##  Species 14 of 26 - n - 10/07/2015 14:21:05
##  Species 15 of 26 - o - 10/07/2015 14:21:05
##  Species 16 of 26 - p - 10/07/2015 14:21:05
##  Species 17 of 26 - q - 10/07/2015 14:21:05
##  Species 18 of 26 - r - 10/07/2015 14:21:05
##  Species 19 of 26 - s - 10/07/2015 14:21:05
##  Species 20 of 26 - t - 10/07/2015 14:21:05
##  Species 21 of 26 - u - 10/07/2015 14:21:05
##  Species 22 of 26 - v - 10/07/2015 14:21:05
##  Species 23 of 26 - w - 10/07/2015 14:21:05
##  Species 24 of 26 - x - 10/07/2015 14:21:05
##  Species 25 of 26 - y - 10/07/2015 14:21:05
##  Species 26 of 26 - z - 10/07/2015 14:21:05
## [1] &quot;frescalo complete&quot;</code></pre>
<p>We get a warning from this analysis that our value of phi is too low.
In this case this is because our simulated data suggests every species
is found on every site in our time periods. This is a little unrealistic
but should you get a similar warning with your data you might want to
consult <a href="http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00146.x/suppinfo">Hill
(2012)</a> and change your input value of phi.</p>
<p>The object that is returned (<code>frescalo_results</code> in my
case) is an object of class <code>frescalo</code>. this means there are
a couple of special methods we can use with it.</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" tabindex="-1"></a><span class="co"># Using &#39;summary&#39; gives a quick overview of our data</span></span>
<span id="cb149-2"><a href="#cb149-2" tabindex="-1"></a><span class="co"># This can be useful to double check that your data was read in correctly</span></span>
<span id="cb149-3"><a href="#cb149-3" tabindex="-1"></a><span class="fu">summary</span>(frescalo_results)</span></code></pre></div>
<pre><code>##  Actual numbers in data 
##      Number of samples           100 
##      Number of species            26 
##      Number of time periods        2 
##      Number of observations     2239 
##      Neighbourhood weights      1000 
##      Benchmark exclusions          0 
##      Filter locations included     0</code></pre>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="#cb151-1" tabindex="-1"></a><span class="co"># Using &#39;print&#39; we get a preview of the results</span></span>
<span id="cb151-2"><a href="#cb151-2" tabindex="-1"></a><span class="fu">print</span>(frescalo_results)</span></code></pre></div>
<pre><code>## 
## Preview of $paths - file paths to frescalo log, stats, freq, trend .csv files:
## 
## [1] &quot;~/myFolder/frescalo_150710/Output/Log.txt&quot;           
## [2] &quot;~/myFolder/frescalo_150710/Output/Stats.csv&quot;         
## [3] &quot;~/myFolder/frescalo_150710/Output/Freq.csv&quot;          
## [4] &quot;~/myFolder/frescalo_150710/Output/Trend.csv&quot;         
## [5] &quot;~/myFolder/frescalo_150710/Output/Freq_quickload.txt&quot;
## 
## 
## Preview of $trend - trends file, giving the tfactor value for each species at each time period:
## 
##   Species   Time TFactor StDev  X Xspt Xest N.0.00 N.0.98
## 1       a 1984.5   0.544 0.201  8    8    8     92      0
## 2       a 1994.5   1.143 0.302 17   17   17     92      0
## 3       j 1984.5   1.372 0.237 46   45   45    100      0
## 4       j 1994.5   0.702 0.133 35   35   35    100      1
## 5       k 1984.5   0.961 0.167 44   43   43    100      0
## 6       k 1994.5   0.816 0.144 46   45   45    100      5
## 
## 
## Preview of $stat - statistics for each hectad in the analysis:
## 
##   Location Loc_no No_spp Phi_in Alpha Wgt_n2 Phi_out Spnum_in Spnum_out
## 1       A1      1     11  0.815  0.66   1.58    0.74     11.5       9.8
## 2      A10      2     13  0.717  1.14   3.77    0.74     14.9      15.7
## 3     A100      3     18  0.828  0.58   3.01    0.74     18.1      14.9
## 4      A11      4     16  0.847  0.49   1.81    0.74     16.9      13.3
## 5      A12      5     11  0.718  1.15   3.22    0.74     14.5      15.3
## 6      A13      6      8  0.681  1.32   3.88    0.74     14.5      16.4
##   Iter
## 1   15
## 2    5
## 3    8
## 4    9
## 5    3
## 6    8
## 
## 
## Preview of $freq - rescaled frequencies for each location and species:
## 
##   Location Species Pres   Freq  Freq1 SDFrq1 Rank Rank1
## 1       A1       v    1 0.9778 0.9177 0.1372    1 0.102
## 2       A1       k    1 0.9722 0.9046 0.1494    2 0.204
## 3       A1       w    1 0.9634 0.8856 0.1659    3 0.305
## 4       A1       y    1 0.9563 0.8715 0.1776    4 0.407
## 5       A1       x    1 0.9412 0.8440 0.1992    5 0.509
## 6       A1       e    1 0.8965 0.7740 0.2491    6 0.611
## 
## 
## Preview of $log - log file:
## 
##     Number of species            26
##     Number of time periods        2
##     Number of observations     2239
##     Neighbourhood weights      1000
##     Benchmark exclusions          0
##     Filter locations included     0
## 
## 
##  98.5 percentile of input phi  0.89
##  Target value of phi           0.74
## 
## 
## 
## 
## Preview of $lm_stats - trends in tfactor over time:
## 
##    SPECIES NAME       b          a b_std_err b_tval b_pval a_std_err
## 1       S1    a  0.0599 -118.32755        NA     NA     NA        NA
## 12      S2    b  0.0021   -3.27645        NA     NA     NA        NA
## 20      S3    c  0.0045   -8.04525        NA     NA     NA        NA
## 21      S4    d  0.0365  -71.60625        NA     NA     NA        NA
## 22      S5    e -0.0046    9.96270        NA     NA     NA        NA
## 23      S6    f  0.0326  -63.82470        NA     NA     NA        NA
##    a_tval a_pval adj_r2 r2 F_val F_num_df F_den_df   Ymin   Ymax
## 1      NA     NA     NA  1    NA        1        0 1984.5 1994.5
## 12     NA     NA     NA  1    NA        1        0 1984.5 1994.5
## 20     NA     NA     NA  1    NA        1        0 1984.5 1994.5
## 21     NA     NA     NA  1    NA        1        0 1984.5 1994.5
## 22     NA     NA     NA  1    NA        1        0 1984.5 1994.5
## 23     NA     NA     NA  1    NA        1        0 1984.5 1994.5
##          Z_VAL SIG_95
## 1   1.65116558  FALSE
## 12  0.06358704  FALSE
## 20  0.14903522  FALSE
## 21  1.17443512  FALSE
## 22 -0.17104272  FALSE
## 23  1.12652478  FALSE</code></pre>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="#cb153-1" tabindex="-1"></a><span class="co"># There is a lot of information here and you can read more about</span></span>
<span id="cb153-2"><a href="#cb153-2" tabindex="-1"></a><span class="co"># what these data mean by looking at the frescalo help file</span></span>
<span id="cb153-3"><a href="#cb153-3" tabindex="-1"></a><span class="co"># The files detailed in paths are also in the object returned</span></span>
<span id="cb153-4"><a href="#cb153-4" tabindex="-1"></a>frescalo_results<span class="sc">$</span>paths</span></code></pre></div>
<pre><code>## [1] &quot;~/myFolder/frescalo_150710/Output/Log.txt&quot;           
## [2] &quot;~/myFolder/frescalo_150710/Output/Stats.csv&quot;         
## [3] &quot;~/myFolder/frescalo_150710/Output/Freq.csv&quot;          
## [4] &quot;~/myFolder/frescalo_150710/Output/Trend.csv&quot;         
## [5] &quot;~/myFolder/frescalo_150710/Output/Freq_quickload.txt&quot;</code></pre>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="#cb155-1" tabindex="-1"></a><span class="fu">names</span>(frescalo_results)</span></code></pre></div>
<pre><code>## [1] &quot;paths&quot;    &quot;trend&quot;    &quot;stat&quot;     &quot;freq&quot;     &quot;log&quot;      &quot;lm_stats&quot;</code></pre>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="#cb157-1" tabindex="-1"></a><span class="co"># However we additionally get some model results in our returned object</span></span>
<span id="cb157-2"><a href="#cb157-2" tabindex="-1"></a><span class="co"># under &#39;$lm_stats&#39;</span></span></code></pre></div>
<p>The results from frescalo may seem complex at first and I suggest
reading the Value section of the frescalo help file for details. In
brief: <code>frescalo_results$paths</code> lists the file paths of the
raw data files for <code>$log</code>, <code>$stat</code>,
<code>$freq</code> and <code>$trend</code>, in that order.
<code>frescalo_results$trend</code> is a data.frame providing the list
of time factors (a measure of probability of occurrence relative to
benchmark species) for each species-timeperiod.
<code>frescalo_results$stat</code> is a data.frame giving details about
sites such as estimated species richness.
<code>frescalo_results$freq</code> is a data.frame of the species
frequencies, that is the probabilities that a species was present at a
certain location. <code>frescalo_results$log</code>, a simple report of
the console output from the .exe. <code>frescalo_results$lm_stats</code>
is a data.frame giving the results of a linear regression of Tfactors
for each species when more than two time periods are used. If only 2
time periods are used (as in our example) the linear modeling section of
this data.frame is filled with NAs and a z-test is performed instead
(results are given in the last columns).</p>
<div class="sourceCode" id="cb158"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" tabindex="-1"></a><span class="co"># Lets look at some results fo the first three species</span></span>
<span id="cb158-2"><a href="#cb158-2" tabindex="-1"></a>frescalo_results<span class="sc">$</span>lm_stats[<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>, <span class="fu">c</span>(<span class="st">&#39;NAME&#39;</span>,<span class="st">&#39;Z_VAL&#39;</span>,<span class="st">&#39;SIG_95&#39;</span>)]</span></code></pre></div>
<pre><code>##    NAME      Z_VAL SIG_95
## 1     a 1.65116558  FALSE
## 12    b 0.06358704  FALSE
## 20    c 0.14903522  FALSE</code></pre>
<div class="sourceCode" id="cb160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" tabindex="-1"></a><span class="co"># None of these have a significant change using a z-test</span></span>
<span id="cb160-2"><a href="#cb160-2" tabindex="-1"></a><span class="co"># Lets look at the raw data</span></span>
<span id="cb160-3"><a href="#cb160-3" tabindex="-1"></a>frescalo_results<span class="sc">$</span>trend[frescalo_results<span class="sc">$</span>trend<span class="sc">$</span>Species <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>, <span class="st">&#39;c&#39;</span>),</span>
<span id="cb160-4"><a href="#cb160-4" tabindex="-1"></a>                       <span class="fu">c</span>(<span class="st">&#39;Species&#39;</span>, <span class="st">&#39;Time&#39;</span>, <span class="st">&#39;TFactor&#39;</span>, <span class="st">&#39;StDev&#39;</span>)]</span></code></pre></div>
<pre><code>##    Species   Time TFactor StDev
## 1        a 1984.5   0.544 0.201
## 2        a 1994.5   1.143 0.302
## 23       b 1984.5   0.891 0.237
## 24       b 1994.5   0.912 0.230
## 39       c 1984.5   0.885 0.215
## 40       c 1994.5   0.930 0.212</code></pre>
<div class="sourceCode" id="cb162"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" tabindex="-1"></a><span class="co"># We can see from these results that the big standard deviations on </span></span>
<span id="cb162-2"><a href="#cb162-2" tabindex="-1"></a><span class="co"># the tfactor values means there is no real difference between the </span></span>
<span id="cb162-3"><a href="#cb162-3" tabindex="-1"></a><span class="co"># two time periods</span></span></code></pre></div>
<p>If your data are from the UK and sites are given as grid referenes
that there is functionality to plot a simple output of your results</p>
<div class="sourceCode" id="cb163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb163-1"><a href="#cb163-1" tabindex="-1"></a><span class="co"># This only works with UK grid references</span></span>
<span id="cb163-2"><a href="#cb163-2" tabindex="-1"></a><span class="co"># We can load an example dataset from the UK</span></span>
<span id="cb163-3"><a href="#cb163-3" tabindex="-1"></a><span class="fu">data</span>(unicorns)</span>
<span id="cb163-4"><a href="#cb163-4" tabindex="-1"></a><span class="fu">head</span>(unicorns)</span></code></pre></div>
<pre><code>##          TO_STARTDATE                Date hectad   kmsq    CONCEPT
## 1 1968-08-06 00:00:00 1968-08-06 00:00:00   NZ28   &lt;NA&gt; Species 18
## 2 1951-05-12 00:00:00 1951-05-12 00:00:00   SO34   &lt;NA&gt; Species 11
## 3 1946-05-06 00:00:00 1946-05-06 00:00:00   SO34 SO3443 Species 11
## 4 1980-05-01 00:00:00 1980-05-31 00:00:00   SO34   &lt;NA&gt; Species 11
## 5 1829-12-31 23:58:45 1830-12-30 23:58:45   SH48   &lt;NA&gt; Species 11
## 6 1981-06-21 00:00:00 1981-06-21 00:00:00   SO37   &lt;NA&gt; Species 11</code></pre>
<div class="sourceCode" id="cb165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb165-1"><a href="#cb165-1" tabindex="-1"></a><span class="co"># Now run frescalo using hte built in weights file</span></span>
<span id="cb165-2"><a href="#cb165-2" tabindex="-1"></a>unicorn_results <span class="ot">&lt;-</span> <span class="fu">frescalo</span>(<span class="at">Data =</span> unicorns, </span>
<span id="cb165-3"><a href="#cb165-3" tabindex="-1"></a>                            <span class="at">frespath =</span> myFrescaloPath,</span>
<span id="cb165-4"><a href="#cb165-4" tabindex="-1"></a>                            <span class="at">time_periods =</span> myTimePeriods,</span>
<span id="cb165-5"><a href="#cb165-5" tabindex="-1"></a>                            <span class="at">site_col =</span> <span class="st">&#39;hectad&#39;</span>,</span>
<span id="cb165-6"><a href="#cb165-6" tabindex="-1"></a>                            <span class="at">sp_col =</span> <span class="st">&#39;CONCEPT&#39;</span>,</span>
<span id="cb165-7"><a href="#cb165-7" tabindex="-1"></a>                            <span class="at">start_col =</span> <span class="st">&#39;TO_STARTDATE&#39;</span>,</span>
<span id="cb165-8"><a href="#cb165-8" tabindex="-1"></a>                            <span class="at">end_col =</span> <span class="st">&#39;Date&#39;</span>,</span>
<span id="cb165-9"><a href="#cb165-9" tabindex="-1"></a>                            <span class="at">sinkdir =</span> myFolder)</span></code></pre></div>
<pre><code>## Warning in weights_data_matchup(weights_sites = unpacked$site_names,
## data_sites = unique(Data$site)): 1 sites appear your data but are not in
## your weights file, these will be ignored</code></pre>
<pre><code>## Warning in frescalo(Data = unicorns, frespath = myFrescaloPath,
## time_periods = myTimePeriods, : sinkdir already contains frescalo output.
## New data saved in ~/myFolder/frescalo_150710(2)</code></pre>
<pre><code>## 
## SAVING DATA TO FRESCALO WORKING DIRECTORY
## ********************
## 
## 
## RUNNING FRESCALO
## ********************
## 
## Building Species List - Complete
## Outputting Species Results
##  Species 1 of 55 - Species 1 - 10/07/2015 15:40:46
##  Species 2 of 55 - Species 10 - 10/07/2015 15:40:46
##  Species 3 of 55 - Species 11 - 10/07/2015 15:40:46
##  Species 4 of 55 - Species 12 - 10/07/2015 15:40:46
##  Species 5 of 55 - Species 13 - 10/07/2015 15:40:46
##  Species 6 of 55 - Species 14 - 10/07/2015 15:40:46
##  Species 7 of 55 - Species 15 - 10/07/2015 15:40:46
##  Species 8 of 55 - Species 16 - 10/07/2015 15:40:46
##  Species 9 of 55 - Species 17 - 10/07/2015 15:40:46
##  Species 10 of 55 - Species 18 - 10/07/2015 15:40:46
##  Species 11 of 55 - Species 19 - 10/07/2015 15:40:46
##  Species 12 of 55 - Species 2 - 10/07/2015 15:40:46
##  Species 13 of 55 - Species 20 - 10/07/2015 15:40:46
##  Species 14 of 55 - Species 21 - 10/07/2015 15:40:46
##  Species 15 of 55 - Species 22 - 10/07/2015 15:40:46
##  Species 16 of 55 - Species 23 - 10/07/2015 15:40:46
##  Species 17 of 55 - Species 24 - 10/07/2015 15:40:46
##  Species 18 of 55 - Species 25 - 10/07/2015 15:40:46
##  Species 19 of 55 - Species 27 - 10/07/2015 15:40:46
##  Species 20 of 55 - Species 28 - 10/07/2015 15:40:46
##  Species 21 of 55 - Species 29 - 10/07/2015 15:40:46
##  Species 22 of 55 - Species 3 - 10/07/2015 15:40:46
##  Species 23 of 55 - Species 30 - 10/07/2015 15:40:46
##  Species 24 of 55 - Species 31 - 10/07/2015 15:40:46
##  Species 25 of 55 - Species 32 - 10/07/2015 15:40:46
##  Species 26 of 55 - Species 33 - 10/07/2015 15:40:46
##  Species 27 of 55 - Species 34 - 10/07/2015 15:40:46
##  Species 28 of 55 - Species 35 - 10/07/2015 15:40:46
##  Species 29 of 55 - Species 36 - 10/07/2015 15:40:46
##  Species 30 of 55 - Species 37 - 10/07/2015 15:40:46
##  Species 31 of 55 - Species 38 - 10/07/2015 15:40:46
##  Species 32 of 55 - Species 39 - 10/07/2015 15:40:46
##  Species 33 of 55 - Species 4 - 10/07/2015 15:40:46
##  Species 34 of 55 - Species 40 - 10/07/2015 15:40:46
##  Species 35 of 55 - Species 41 - 10/07/2015 15:40:46
##  Species 36 of 55 - Species 42 - 10/07/2015 15:40:46
##  Species 37 of 55 - Species 44 - 10/07/2015 15:40:46
##  Species 38 of 55 - Species 45 - 10/07/2015 15:40:46
##  Species 39 of 55 - Species 46 - 10/07/2015 15:40:46
##  Species 40 of 55 - Species 47 - 10/07/2015 15:40:46
##  Species 41 of 55 - Species 48 - 10/07/2015 15:40:46
##  Species 42 of 55 - Species 49 - 10/07/2015 15:40:46
##  Species 43 of 55 - Species 5 - 10/07/2015 15:40:46
##  Species 44 of 55 - Species 50 - 10/07/2015 15:40:46
##  Species 45 of 55 - Species 51 - 10/07/2015 15:40:46
##  Species 46 of 55 - Species 52 - 10/07/2015 15:40:46
##  Species 47 of 55 - Species 54 - 10/07/2015 15:40:46
##  Species 48 of 55 - Species 55 - 10/07/2015 15:40:46
##  Species 49 of 55 - Species 56 - 10/07/2015 15:40:46
##  Species 50 of 55 - Species 57 - 10/07/2015 15:40:46
##  Species 51 of 55 - Species 6 - 10/07/2015 15:40:46
##  Species 52 of 55 - Species 66 - 10/07/2015 15:40:46
##  Species 53 of 55 - Species 7 - 10/07/2015 15:40:46
##  Species 54 of 55 - Species 8 - 10/07/2015 15:40:46
##  Species 55 of 55 - Species 9 - 10/07/2015 15:40:46
## [1] &quot;frescalo complete&quot;</code></pre>
<p>It is worth noting the console output here. We get a warning telling
us that I have some data from a site that is not in my weights file, so
I might want to investigate that and add the site to my weights file. We
will ignore it for now. The second warning tells us that the
<code>sinkdir</code> that we gave already has frescalo output in it. The
function has got around this by renaming the output. We finally got a
long list of all the species as their data were compiled internally.</p>
<p>Now for the plotting.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="#cb169-1" tabindex="-1"></a><span class="fu">plot</span>(unicorn_results)</span></code></pre></div>
<p><img src="data:image/png;base64,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" /></p>
<p>Each panel of the plot gives different information for your results.
The top right plot shows the observed number of species at each site
(given in <code>unicorn_results$stat$No_spp</code>), this can be
contrasted with the top left plot which gives the estimated number of
species after accounting for recording effort (given in
<code>unicorn_results$stat$Spnum_out</code>). Recording effort is
presented in the bottom left panel - low values of alpha (white) show
areas of high recording effort (given in
<code>unicorn_results$stat$Alpha</code>), and a summary of the species
trends are given in the bottom right (given in
<code>unicorn_results$lm_stats</code>). In this case there is a skew
towards species increasing, however some of these may be
non-significant, this could be explored in more detail be referring to
<code>unicorn_results$lm_stats</code>.</p>
</div>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<ol style="list-style-type: decimal">
<li><a href="http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00146.x/suppinfo">Hill,
M.O. (2012) Local frequency as a key to interpreting species occurrence
data when recording effort is not known. Methods Ecol. Evol. 3,
195-205</a></li>
<li><a href="http://onlinelibrary.wiley.com/doi/10.1111/2041-210X.12254/abstract">Isaac,
N.J.B. et al. (2014) Statistics for citizen science: extracting signals
of change from noisy ecological data. Methods Ecol. Evol. 5,
1052-1060</a></li>
<li><a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1472-4642.2012.00883.x/abstract">Roy,
H.E. et al. (2012) Invasive alien predator causes rapid declines of
native European ladybirds. Divers. Distrib. 18, 717-725</a></li>
<li><a href="http://www.sciencedirect.com/science/article/pii/S0006320702000502#">Telfer,
M.G. et al. (2002) A general method for measuring relative change in
range size from biological atlas data. Biol. Conserv. 107,
99-109</a></li>
<li><a href="http://onlinelibrary.wiley.com/doi/10.1111/j.1472-4642.2012.00883.x/abstract">Thomas,
J.A. et al. (2015) Recent trends in UK insects that inhabit early
successional stages of ecosystems. Biol. J. Linn. Soc. 115,
636-646</a></li>
</ol>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
